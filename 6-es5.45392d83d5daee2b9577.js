!function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fJsw:function(e,i,a){"use strict";a.r(i),a.d(i,"FaqModule",function(){return A});var s=a("tyNb"),c=a("fXoL"),r=(a("8LU1"),a("XNiG"));a("quSY"),a("0EQZ");var o,u=((o=function e(){t(this,e)}).\u0275mod=c.Pb({type:o}),o.\u0275inj=c.Ob({factory:function(e){return new(e||o)}}),o),h=a("+rOU"),f=a("ofXK"),p=a("FKr1"),b=(a("u47x"),a("/uUt"),a("JX91"),a("pLZG")),d=(a("IzEk"),a("FtGj"),a("R1ws"),a("EY2u"));a("VRyK"),a("R0Ic");var l,g,v=((l=function e(){t(this,e)}).\u0275mod=c.Pb({type:l}),l.\u0275inj=c.Ob({factory:function(e){return new(e||l)},imports:[[f.c,p.h,u,h.g]]}),l),x=a("NFeN"),m=a("5HBU"),k=a("2Vo4"),w=a("tk/3"),y=((g=function(){function e(n){t(this,e),this._httpClient=n,this.onFaqsChanged=new k.a({})}return n(e,[{key:"resolve",value:function(e,n){var t=this;return new Promise(function(e,n){Promise.all([t.getFaqs()]).then(function(){e()},n)})}},{key:"getFaqs",value:function(){var e=this;return new Promise(function(n,t){e._httpClient.get("api/faq").subscribe(function(t){e.faqs=t,e.onFaqsChanged.next(e.faqs),n(e.faqs)},t)})}}]),e}()).\u0275fac=function(e){return new(e||g)(c.bc(w.c))},g.\u0275prov=c.Nb({token:g,factory:g.\u0275fac}),g),q=a("3Pt+"),_=a("vkgz"),O=a("Kj3r"),j=a("eIep"),C=a("JIr8"),X=a("nYR2"),I=a("AytR"),S=a("k1t7"),P=a("qXBG"),R=a("dNgK"),F=a("XiUz"),W=a("IyRd");function K(e,n){if(1&e){var t=c.Yb();c.Xb(0,"zxing-scanner",6),c.fc("scanSuccess",function(e){return c.Cc(t),c.jc().sendCheckPoint(e)}),c.Wb()}}function L(e,n){1&e&&(c.Xb(0,"div",7),c.Xb(1,"div",8),c.Xb(2,"div",9),c.Mc(3,"Sending checkpoint..."),c.Wb(),c.Xb(4,"div",10),c.Mc(5,"Please wait."),c.Wb(),c.Wb(),c.Wb())}var z,N,U=[{path:"",component:(z=function(){function e(n,i,a,s,c){t(this,e),this._faqService=n,this._fuseProgressBarService=i,this._authService=a,this._snackbar=s,this._http=c,this._headers=(new w.f).set("Content-Type","application/json"),this.loading=!1,this._checkpoint$=new r.a,this._baseurl="",this.searchInput=new q.e(""),this.step=0,this._unsubscribeAll=new r.a,this._baseurl=I.a.apiUrl}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.userLoggedIn=this._authService.getObjectItem("userLoggedIn");var n=this.userLoggedIn.info.reg_code;this._checkpoint$.asObservable().pipe(Object(_.a)(function(){e._fuseProgressBarService.show(),e.loading=!0}),Object(O.a)(1e3),Object(j.a)(function(t){var i={headers:e._headers};return e._http.post("".concat(e._baseurl,"/cyclists/").concat(n,"/checkpoints"),{checkpoint:t,timestamp:new Date},i).pipe(Object(C.a)(function(n){return e._snackbar.open(n.message,"",{duration:2e3,panelClass:["red-snackbar","login-snackbar"]}),d.a}),Object(X.a)(function(){e.loading=!1,e._fuseProgressBarService.hide()}))}),Object(_.a)(function(n){!1===n.status&&e._snackbar.open(n.message,"OK",{duration:2e3,panelClass:"red-snackbar"})}),Object(b.a)(function(e){return e.status})).subscribe(function(n){e._snackbar.open(n.message,"OK",{duration:2e3,panelClass:"green-snackbar"})})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setStep",value:function(e){this.step=e}},{key:"nextStep",value:function(){this.step++}},{key:"prevStep",value:function(){this.step--}},{key:"sendCheckPoint",value:function(e){console.log(e),this._checkpoint$.next(e)}}]),e}(),z.\u0275fac=function(e){return new(e||z)(c.Rb(y),c.Rb(S.a),c.Rb(P.a),c.Rb(R.a),c.Rb(w.c))},z.\u0275cmp=c.Lb({type:z,selectors:[["faq"]],decls:8,vars:2,consts:[["id","faq",1,"page-layout","simple","full-width"],["fxLayout","column","fxLayoutAlign","center center",1,"accent"],[1,"hero-text"],[1,"content","px-16","py-24","px-sm-24","py-sm-32"],["id","qrCheckpoint",3,"scanSuccess",4,"ngIf"],["class","fuse-card","style","max-width:100%",4,"ngIf"],["id","qrCheckpoint",3,"scanSuccess"],[1,"fuse-card",2,"max-width","100%"],[1,"p-64"],[1,"h2"],[1,"h4","secondary-text"]],template:function(e,n){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"h1"),c.Mc(4,"Scan Checkpoint"),c.Wb(),c.Wb(),c.Wb(),c.Xb(5,"div",3),c.Kc(6,K,1,0,"zxing-scanner",4),c.Kc(7,L,6,0,"div",5),c.Wb(),c.Wb()),2&e&&(c.Fb(6),c.qc("ngIf",!n.loading),c.Fb(1),c.qc("ngIf",n.loading))},directives:[F.c,F.b,f.m,W.a],styles:["faq .header{flex:1 0 auto;height:360px;max-height:360px;background:#1a237e;background:linear-gradient(90deg,#0e2a3b 0,#34306b)}@media screen and (max-width:599px){faq .header{height:240px;padding:16px}}faq .header .hero-text h1{color:#fff;font-size:48px;font-weight:400;letter-spacing:.01em;text-align:center;margin-top:0;margin-bottom:16px}@media screen and (max-width:599px){faq .header .hero-text h1{font-size:24px}}faq .header .search{width:100%;max-width:640px;height:56px;line-height:56px;padding:18px;border-radius:28px;overflow:hidden}faq .header .search input{height:56px;padding-left:16px;border:none;outline:none}faq .content{max-width:960px;width:100%;margin:0 auto}"],encapsulation:2}),z),resolve:{faq:y}}],A=((N=function e(){t(this,e)}).\u0275mod=c.Pb({type:N}),N.\u0275inj=c.Ob({factory:function(e){return new(e||N)},providers:[y],imports:[[s.k.forChild(U),v,x.b,m.a,W.b]]}),N)}}])}();