!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=i(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){r=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw c}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{B9zo:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("XNiG"),l=i("1G5W"),o=i("fXoL"),r=i("h2q7"),s=function(){var e=function(){function e(t,i,l){n(this,e),this._elementRef=t,this._fuseMediaMatchService=i,this._renderer=l,this._unsubscribeAll=new a.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(l.a)(this._unsubscribeAll)).subscribe(function(t){"xs"===t?e._removeClass():e._addClass()}))}},{key:"ngOnDestroy",value:function(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}},{key:"_addClass",value:function(){this._renderer.addClass(this._grandParent,"inner-scroll")}},{key:"_removeClass",value:function(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Rb(o.l),o.Rb(r.a),o.Rb(o.I))},e.\u0275dir=o.Mb({type:e,selectors:[["",8,"inner-scroll"]]}),e}()},NJB7:function(i,a,l){"use strict";l.r(a),l.d(a,"MailModule",function(){return lt});var o,r,s=l("tyNb"),b=l("bTqV"),m=l("bSwM"),u=l("FKr1"),f=l("0IaG"),d=l("kmnG"),h=l("NFeN"),p=l("qFsG"),g=l("STbY"),v=l("d3UM"),x=l("/t3+"),M=l("sYmb"),y=l("5HBU"),w=l("LPQX"),X=l("2Vo4"),W=l("jD4G"),F=function(){function e(t){n(this,e),this.id=t.id,this.from=t.from,this.to=t.to,this.subject=t.subject,this.message=t.message,this.time=t.time,this.read=t.read,this.starred=t.starred,this.important=t.important,this.hasAttachments=t.hasAttachments,this.attachments=t.attachments,this.labels=t.labels,this.folder=t.folder}return c(e,[{key:"toggleStar",value:function(){this.starred=!this.starred}},{key:"toggleImportant",value:function(){this.important=!this.important}}]),e}(),S=l("fXoL"),k=l("tk/3"),L=((o=function(){function i(e){n(this,i),this._httpClient=e,this.searchText="",this.selectedMails=[],this.onMailsChanged=new X.a([]),this.onSelectedMailsChanged=new X.a([]),this.onCurrentMailChanged=new X.a([]),this.onFoldersChanged=new X.a([]),this.onFiltersChanged=new X.a([]),this.onLabelsChanged=new X.a([]),this.onSearchTextChanged=new X.a("")}return c(i,[{key:"resolve",value:function(e,t){var i=this;return this.routeParams=e.params,new Promise(function(e,t){Promise.all([i.getFolders(),i.getFilters(),i.getLabels(),i.getMails()]).then(function(){i.setCurrentMail(i.routeParams.mailId?i.routeParams.mailId:null),i.onSearchTextChanged.subscribe(function(e){i.searchText=e,i.getMails()}),e()},t)})}},{key:"getFolders",value:function(){var e=this;return new Promise(function(t,i){e._httpClient.get("api/mail-folders").subscribe(function(i){e.folders=i,e.onFoldersChanged.next(e.folders),t(e.folders)},i)})}},{key:"getFilters",value:function(){var e=this;return new Promise(function(t,i){e._httpClient.get("api/mail-filters").subscribe(function(i){e.filters=i,e.onFiltersChanged.next(e.filters),t(e.filters)},i)})}},{key:"getLabels",value:function(){var e=this;return new Promise(function(t,i){e._httpClient.get("api/mail-labels").subscribe(function(i){e.labels=i,e.onLabelsChanged.next(e.labels),t(e.labels)},i)})}},{key:"getMails",value:function(){return this.routeParams.labelHandle?this.getMailsByLabel(this.routeParams.labelHandle):this.routeParams.filterHandle?this.getMailsByFilter(this.routeParams.filterHandle):this.getMailsByFolder(this.routeParams.folderHandle)}},{key:"getMailsByFolder",value:function(e){var t=this;return new Promise(function(i,a){t._httpClient.get("api/mail-folders?handle="+e).subscribe(function(e){t._httpClient.get("api/mail-mails?folder="+e[0].id).subscribe(function(e){t.mails=e.map(function(e){return new F(e)}),t.mails=W.a.filterArrayByString(t.mails,t.searchText),t.onMailsChanged.next(t.mails),i(t.mails)},a)})})}},{key:"getMailsByFilter",value:function(e){var t=this;return new Promise(function(i,a){t._httpClient.get("api/mail-mails?"+e+"=true").subscribe(function(e){t.mails=e.map(function(e){return new F(e)}),t.mails=W.a.filterArrayByString(t.mails,t.searchText),t.onMailsChanged.next(t.mails),i(t.mails)},a)})}},{key:"getMailsByLabel",value:function(e){var t=this;return new Promise(function(i,a){t._httpClient.get("api/mail-labels?handle="+e).subscribe(function(e){t._httpClient.get("api/mail-mails?labels="+e[0].id).subscribe(function(e){t.mails=e.map(function(e){return new F(e)}),t.mails=W.a.filterArrayByString(t.mails,t.searchText),t.onMailsChanged.next(t.mails),i(t.mails)},a)})})}},{key:"toggleSelectedMail",value:function(e){if(this.selectedMails.length>0){var i,a=t(this.selectedMails);try{for(a.s();!(i=a.n()).done;){var n=i.value;if(n.id===e){var l=this.selectedMails.indexOf(n);if(-1!==l)return this.selectedMails.splice(l,1),void this.onSelectedMailsChanged.next(this.selectedMails)}}}catch(c){a.e(c)}finally{a.f()}}this.selectedMails.push(this.mails.find(function(t){return t.id===e})),this.onSelectedMailsChanged.next(this.selectedMails)}},{key:"toggleSelectAll",value:function(){this.selectedMails.length>0?this.deselectMails():this.selectMails()}},{key:"selectMails",value:function(t,i){var a;this.selectedMails=[],void 0===t||void 0===i?this.selectedMails=this.mails:(a=this.selectedMails).push.apply(a,e(this.mails.filter(function(e){return e[t]===i}))),this.onSelectedMailsChanged.next(this.selectedMails)}},{key:"deselectMails",value:function(){this.selectedMails=[],this.onSelectedMailsChanged.next(this.selectedMails)}},{key:"setCurrentMail",value:function(e){this.currentMail=this.mails.find(function(t){return t.id===e}),this.onCurrentMailChanged.next(this.currentMail)}},{key:"toggleLabelOnSelectedMails",value:function(e){var t=this;this.selectedMails.map(function(i){var a=i.labels.indexOf(e);-1!==a?i.labels.splice(a,1):i.labels.push(e),t.updateMail(i)})}},{key:"setFolderOnSelectedMails",value:function(e){var t=this;this.selectedMails.map(function(i){i.folder=e,t.updateMail(i)}),this.deselectMails()}},{key:"updateMail",value:function(e){var t=this;return new Promise(function(i,a){t._httpClient.post("api/mail-mails/"+e.id,Object.assign({},e)).subscribe(function(e){t.getMails().then(function(e){e&&t.currentMail&&t.setCurrentMail(t.currentMail.id),i(e)},a)})})}}]),i}()).\u0275fac=function(e){return new(e||o)(S.bc(k.c))},o.\u0275prov=S.Nb({token:o,factory:o.\u0275fac}),o),_=l("3Pt+"),A=l("XNiG"),C=l("1G5W"),I=l("Kj3r"),O=l("/uUt"),E={lang:"en",data:{MAIL:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"}}},j={lang:"tr",data:{MAIL:{COMPOSE:"YEN\u0130 E-POSTA",FOLDERS:"KLAS\xd6RLER",FILTERS:"F\u0130LTRELER",LABELS:"ET\u0130KETLER",NO_MESSAGES:"Mesajiniz bulunmamakta!",SELECT_A_MESSAGE_TO_READ:"Okumak i\xe7in bir mesaj se\xe7in",SEARCH_PLACEHOLDER:"E-mail yada bir ki\u015fi aray\u0131n"}}},q=l("HX77"),T=l("gPJw"),R=l("B9zo"),P=l("fE3o"),D=l("PVWW"),K=l("XiUz"),N=l("EwFO"),H=l("znSr"),B=((r=function(){function e(t,i){n(this,e),this.matDialogRef=t,this._data=i,this.composeForm=this.createComposeForm(),this.showExtraToFields=!1}return c(e,[{key:"createComposeForm",value:function(){return new _.h({from:new _.e({value:"johndoe@creapond.com",disabled:!0}),to:new _.e(""),cc:new _.e(""),bcc:new _.e(""),subject:new _.e(""),message:new _.e("")})}},{key:"toggleExtraToFields",value:function(){this.showExtraToFields=!this.showExtraToFields}}]),e}()).\u0275fac=function(e){return new(e||r)(S.Rb(f.f),S.Rb(f.a))},r.\u0275cmp=S.Lb({type:r,selectors:[["mail-compose"]],decls:69,vars:6,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","m-0"],["name","composeForm","fxLayout","column","fxFlex","",1,"compose-form",3,"formGroup"],["appearance","outline"],["matInput","","name","from","formControlName","from","type","email"],[1,"show-hide-extra-fields",3,"click"],[3,"fxShow"],["matInput","","name","to","formControlName","to","type","email","required",""],["appearance","outline",3,"fxShow"],["matInput","","name","cc","formControlName","cc","type","email"],["matInput","","name","bcc","formControlName","bcc","type","email"],["matInput","","name","subject","formControlName","subject"],["matInput","","name","message","formControlName","message","rows","6"],[1,"attachment-list"],["fxLayout","row","fxLayoutAlign","space-between center",1,"attachment"],[1,"filename"],[1,"size","ml-4"],["mat-icon-button","","aria-label","Delete attachment"],[1,"s-16"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","color","accent","aria-label","SAVE",1,"save-button",3,"disabled","click"],["mat-icon-button","","matTooltip","Attach a file"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(e,t){1&e&&(S.Xb(0,"div",0),S.Xb(1,"mat-toolbar",1),S.Xb(2,"mat-toolbar-row",2),S.Xb(3,"span",3),S.Mc(4,"New Message"),S.Wb(),S.Xb(5,"button",4),S.fc("click",function(){return t.matDialogRef.close()}),S.Xb(6,"mat-icon"),S.Mc(7,"close"),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Xb(8,"div",5),S.Xb(9,"form",6),S.Xb(10,"mat-form-field",7),S.Xb(11,"mat-label"),S.Mc(12,"From"),S.Wb(),S.Sb(13,"input",8),S.Wb(),S.Xb(14,"div",9),S.fc("click",function(){return t.toggleExtraToFields()}),S.Xb(15,"span",10),S.Mc(16,"Show CC & BCC"),S.Wb(),S.Xb(17,"span",10),S.Mc(18,"Hide CC & BCC"),S.Wb(),S.Wb(),S.Xb(19,"mat-form-field",7),S.Xb(20,"mat-label"),S.Mc(21,"To"),S.Wb(),S.Sb(22,"input",11),S.Wb(),S.Xb(23,"mat-form-field",12),S.Xb(24,"mat-label"),S.Mc(25,"Cc"),S.Wb(),S.Sb(26,"input",13),S.Wb(),S.Xb(27,"mat-form-field",12),S.Xb(28,"mat-label"),S.Mc(29,"Bcc"),S.Wb(),S.Sb(30,"input",14),S.Wb(),S.Xb(31,"mat-form-field",7),S.Xb(32,"mat-label"),S.Mc(33,"Subject"),S.Wb(),S.Sb(34,"input",15),S.Wb(),S.Xb(35,"mat-form-field",7),S.Xb(36,"mat-label"),S.Mc(37,"Message"),S.Wb(),S.Xb(38,"textarea",16),S.Mc(39,"                "),S.Wb(),S.Wb(),S.Xb(40,"div",17),S.Xb(41,"div",18),S.Xb(42,"div"),S.Xb(43,"span",19),S.Mc(44,"attachment-2.doc"),S.Wb(),S.Xb(45,"span",20),S.Mc(46,"(12 Kb)"),S.Wb(),S.Wb(),S.Xb(47,"button",21),S.Xb(48,"mat-icon",22),S.Mc(49,"close"),S.Wb(),S.Wb(),S.Wb(),S.Xb(50,"div",18),S.Xb(51,"div"),S.Xb(52,"span",19),S.Mc(53,"attachment-1.jpg"),S.Wb(),S.Xb(54,"span",20),S.Mc(55,"(350 Kb)"),S.Wb(),S.Wb(),S.Xb(56,"button",21),S.Xb(57,"mat-icon",22),S.Mc(58,"close"),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Xb(59,"div",23),S.Xb(60,"div"),S.Xb(61,"button",24),S.fc("click",function(){return t.matDialogRef.close(["send",t.composeForm])}),S.Mc(62," SEND "),S.Wb(),S.Xb(63,"button",25),S.Xb(64,"mat-icon"),S.Mc(65,"attach_file"),S.Wb(),S.Wb(),S.Wb(),S.Xb(66,"button",26),S.fc("click",function(){return t.matDialogRef.close(["delete",t.composeForm])}),S.Xb(67,"mat-icon"),S.Mc(68,"delete"),S.Wb(),S.Wb(),S.Wb(),S.Wb()),2&e&&(S.Fb(9),S.qc("formGroup",t.composeForm),S.Fb(6),S.qc("fxShow",!t.showExtraToFields),S.Fb(2),S.qc("fxShow",t.showExtraToFields),S.Fb(6),S.qc("fxShow",t.showExtraToFields),S.Fb(4),S.qc("fxShow",t.showExtraToFields),S.Fb(34),S.qc("disabled",t.composeForm.invalid))},directives:[x.a,x.c,K.a,K.c,K.b,b.b,h.a,f.d,N.a,_.y,_.p,_.i,d.c,d.g,p.b,_.c,_.o,_.g,H.b,_.u,f.c],styles:["@media screen and (max-width:599px){.mail-compose-dialog{width:100%}}@media screen and (min-width:600px){.mail-compose-dialog{width:640px}}.mail-compose-dialog .mat-dialog-container{padding:0}.mail-compose-dialog .mat-dialog-container .compose-form .mat-form-field{width:100%}.mail-compose-dialog .mat-dialog-container .compose-form .show-hide-extra-fields{text-align:right;cursor:pointer;font-size:12px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list{font-size:13px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment{border:1px solid;border-radius:20px;padding-left:16px;margin-top:8px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment .filename{font-weight:600}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment:last-child{margin-bottom:0}.mail-compose-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),r),z=l("ofXK"),G=l("s3g0");function $(e,t){if(1&e&&(S.Xb(0,"mat-option",15),S.Mc(1),S.Wb()),2&e){var i=t.$implicit;S.qc("value",i.key),S.Fb(1),S.Oc(" ",i.value," ")}}function Y(e,t){if(1&e&&(S.Xb(0,"mat-icon",19),S.Mc(1),S.Wb()),2&e){var i=S.jc().$implicit;S.Fb(1),S.Nc(i.icon)}}var U=function(){return["active","accent"]};function V(e,t){if(1&e&&(S.Xb(0,"div",16),S.Xb(1,"a",17),S.Kc(2,Y,2,1,"mat-icon",18),S.Xb(3,"span"),S.Mc(4),S.Wb(),S.Wb(),S.Wb()),2&e){var i=t.$implicit;S.Fb(1),S.qc("routerLink","/apps/mail/"+i.handle)("routerLinkActive",S.sc(4,U)),S.Fb(1),S.qc("ngIf",i.icon),S.Fb(2),S.Nc(i.title)}}function J(e,t){if(1&e&&(S.Xb(0,"mat-icon",21),S.Mc(1),S.Wb()),2&e){var i=S.jc().$implicit;S.qc("ngClass",i.color),S.Fb(1),S.Nc(i.icon)}}function Q(e,t){if(1&e&&(S.Xb(0,"div",16),S.Xb(1,"a",17),S.Kc(2,J,2,2,"mat-icon",20),S.Xb(3,"span"),S.Mc(4),S.Wb(),S.Wb(),S.Wb()),2&e){var i=t.$implicit;S.Fb(1),S.qc("routerLink","/apps/mail/filter/"+i.handle)("routerLinkActive",S.sc(4,U)),S.Fb(1),S.qc("ngIf",i.icon),S.Fb(2),S.Nc(i.title)}}var Z=function(e){return{color:e}};function ee(e,t){if(1&e&&(S.Xb(0,"div",16),S.Xb(1,"a",17),S.Xb(2,"mat-icon",22),S.Mc(3,"label"),S.Wb(),S.Xb(4,"span"),S.Mc(5),S.Wb(),S.Wb(),S.Wb()),2&e){var i=t.$implicit;S.Fb(1),S.qc("routerLink","/apps/mail/label/"+i.handle)("routerLinkActive",S.sc(4,U)),S.Fb(1),S.qc("ngStyle",S.tc(5,Z,i.color)),S.Fb(3),S.Nc(i.title)}}var te,ie=function(){return{delay:"50ms",scale:"0.2"}},ae=function(e){return{value:"*",params:e}},ne=function(){return{delay:"100ms",x:"-25px"}},le=function(){return{delay:"300ms"}},ce=function(){return{y:"50px"}},oe=((te=function(){function e(t,i){n(this,e),this._mailService=t,this._matDialog=i,this.accounts={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"},this.selectedAccount="creapond",this._unsubscribeAll=new A.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onFoldersChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.folders=t}),this._mailService.onFiltersChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.filters=t}),this._mailService.onLabelsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.labels=t})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"composeDialog",value:function(){this.dialogRef=this._matDialog.open(B,{panelClass:"mail-compose-dialog"}),this.dialogRef.afterClosed().subscribe(function(e){if(e){var t=e[1];switch(e[0]){case"send":console.log("new Mail",t.getRawValue());break;case"delete":console.log("delete Mail")}}})}}]),e}()).\u0275fac=function(e){return new(e||te)(S.Rb(L),S.Rb(f.b))},te.\u0275cmp=S.Lb({type:te,selectors:[["mail-main-sidebar"]],decls:31,vars:35,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"header","accent","p-24","pb-4"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","s-32"],[1,"logo-text"],["fxLayout","column",1,"account"],[1,"title"],["floatLabel","never"],["placeholder","Mail Selection",1,"account-selection",3,"ngModel"],[3,"value",4,"ngFor","ngForOf"],["fusePerfectScrollbar","",1,"content"],[1,"px-24","pt-32","pb-12"],["mat-raised-button","","aria-label","Compose",1,"mat-accent","compose-dialog-button","w-100-p",3,"click"],[1,"nav","material2"],[1,"nav-subheader"],["class","nav-item",4,"ngFor","ngForOf"],[3,"value"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"routerLink","routerLinkActive"],["class","nav-link-icon",4,"ngIf"],[1,"nav-link-icon"],["class","nav-link-icon",3,"ngClass",4,"ngIf"],[1,"nav-link-icon",3,"ngClass"],[1,"nav-link-icon",3,"ngStyle"]],template:function(e,t){1&e&&(S.Xb(0,"div",0),S.Xb(1,"div",1),S.Xb(2,"mat-icon",2),S.Mc(3,"mail "),S.Wb(),S.Xb(4,"span",3),S.Mc(5,"Mailbox"),S.Wb(),S.Wb(),S.Xb(6,"div",4),S.Xb(7,"div",5),S.Mc(8,"John Doe"),S.Wb(),S.Xb(9,"mat-form-field",6),S.Xb(10,"mat-select",7),S.Kc(11,$,2,2,"mat-option",8),S.kc(12,"keys"),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Xb(13,"div",9),S.Xb(14,"div",10),S.Xb(15,"button",11),S.fc("click",function(){return t.composeDialog()}),S.Mc(16),S.kc(17,"translate"),S.Wb(),S.Wb(),S.Xb(18,"div",12),S.Xb(19,"div",13),S.Mc(20),S.kc(21,"translate"),S.Wb(),S.Kc(22,V,5,5,"div",14),S.Xb(23,"div",13),S.Mc(24),S.kc(25,"translate"),S.Wb(),S.Kc(26,Q,5,5,"div",14),S.Xb(27,"div",13),S.Mc(28),S.kc(29,"translate"),S.Wb(),S.Kc(30,ee,6,7,"div",14),S.Wb(),S.Wb()),2&e&&(S.Fb(2),S.qc("@animate",S.tc(24,ae,S.sc(23,ie))),S.Fb(2),S.qc("@animate",S.tc(27,ae,S.sc(26,ne))),S.Fb(2),S.qc("@animate",S.tc(30,ae,S.sc(29,le))),S.Fb(4),S.qc("ngModel",t.selectedAccount),S.Fb(1),S.qc("ngForOf",S.lc(12,13,t.accounts)),S.Fb(2),S.qc("@animate",S.tc(33,ae,S.sc(32,ce))),S.Fb(3),S.Oc(" ",S.lc(17,15,"MAIL.COMPOSE")," "),S.Fb(4),S.Nc(S.lc(21,17,"MAIL.FOLDERS")),S.Fb(2),S.qc("ngForOf",t.folders),S.Fb(2),S.Nc(S.lc(25,19,"MAIL.FILTERS")),S.Fb(2),S.qc("ngForOf",t.filters),S.Fb(2),S.Nc(S.lc(29,21,"MAIL.LABELS")),S.Fb(2),S.qc("ngForOf",t.labels))},directives:[K.c,K.b,K.a,h.a,d.c,v.a,_.o,_.r,z.m,N.a,b.b,u.k,s.j,u.o,s.i,z.n,z.l,H.a,z.o,H.c],pipes:[G.a,M.c],styles:["mail-main-sidebar{display:flex;flex:1 0 auto;flex-direction:column;height:100%}mail-main-sidebar .header .logo .logo-icon{margin:0 16px 0 0}mail-main-sidebar .header .logo .logo-text{font-size:24px;line-height:24px}mail-main-sidebar .header .account{width:100%}"],encapsulation:2,data:{animation:D.a}}),te),re=l("oufq"),se=l("vVcS");function be(e,t){if(1&e&&S.Sb(0,"img",16),2&e){var i=S.jc();S.rc("alt",null==i.mail.from?null:i.mail.from.name),S.rc("src",null==i.mail.from?null:i.mail.from.avatar,S.Ec)}}function me(e,t){if(1&e&&(S.Xb(0,"div",17),S.Mc(1),S.Wb()),2&e){var i=S.jc();S.Fb(1),S.Nc(null==i.mail.from?null:i.mail.from.name[0])}}function ue(e,t){if(1&e&&(S.Xb(0,"span",18),S.Mc(1),S.Wb()),2&e){var i=S.jc();S.Fb(1),S.Nc(null==i.mail.from?null:i.mail.from.name)}}function fe(e,t){1&e&&(S.Xb(0,"mat-icon",19),S.Mc(1,"attachment"),S.Wb())}function de(e,t){if(1&e&&(S.Xb(0,"div",20),S.Mc(1),S.kc(2,"slice"),S.kc(3,"htmlToPlaintext"),S.Wb()),2&e){var i=S.jc();S.Fb(1),S.Pc(" ",S.nc(2,2,S.lc(3,6,i.mail.message),0,180),"",i.mail.message.length>180?"...":""," ")}}var he=function(e){return{"background-color":e}};function pe(e,t){if(1&e&&(S.Xb(0,"div",21),S.Sb(1,"div",22),S.kc(2,"getById"),S.Xb(3,"div",23),S.Mc(4),S.kc(5,"getById"),S.Wb(),S.Wb()),2&e){var i=t.$implicit,a=S.jc();S.Fb(1),S.qc("ngStyle",S.tc(10,he,S.nc(2,2,a.labels,i,"color"))),S.Fb(3),S.Nc(S.nc(5,6,a.labels,i,"title"))}}var ge,ve=((ge=function(){function e(t){n(this,e),this._mailService=t,this._unsubscribeAll=new A.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.mail=new F(this.mail),this._mailService.onSelectedMailsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(i){if(e.selected=!1,i.length>0){var a,n=t(i);try{for(n.s();!(a=n.n()).done;)if(a.value.id===e.mail.id){e.selected=!0;break}}catch(l){n.e(l)}finally{n.f()}}}),this._mailService.onLabelsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.labels=t})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onSelectedChange",value:function(){this._mailService.toggleSelectedMail(this.mail.id)}},{key:"toggleStar",value:function(e){e.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}},{key:"toggleImportant",value:function(e){e.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}]),e}()).\u0275fac=function(e){return new(e||ge)(S.Rb(L))},ge.\u0275cmp=S.Lb({type:ge,selectors:[["mail-list-item"]],hostVars:2,hostBindings:function(e,t){2&e&&S.Jb("selected",t.selected)},inputs:{mail:"mail"},decls:19,vars:9,consts:[["fxLayout","row","fxLayoutAlign","start center"],[3,"ngModel","ngModelChange","click"],["fxFlex","","FlexLayout","column",1,"info"],["fxLayout","row","fxLayoutAlign","start center",1,"row-1"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"name"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar accent",4,"ngIf"],["class","text-truncate",4,"ngIf"],["class","s-16 ml-8",4,"ngIf"],[1,"time"],["fxLayout","row","fxLayoutAlign","start center",1,"row-2"],["fxLayout","column","fxLayoutAlign","start start"],[1,"subject","text-truncate"],["class","message text-truncate",4,"ngIf"],["fxLayout","row wrap","fxHide","","fxShow.gt-sm","",1,"labels"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],[1,"avatar",3,"alt","src"],[1,"avatar","accent"],[1,"text-truncate"],[1,"s-16","ml-8"],[1,"message","text-truncate"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"]],template:function(e,t){1&e&&(S.Xb(0,"div",0),S.Xb(1,"mat-checkbox",1),S.fc("ngModelChange",function(e){return t.selected=e})("ngModelChange",function(){return t.onSelectedChange()})("click",function(e){return e.stopPropagation()}),S.Wb(),S.Xb(2,"div",2),S.Xb(3,"div",3),S.Xb(4,"div",4),S.Kc(5,be,1,2,"img",5),S.Kc(6,me,2,1,"div",6),S.Kc(7,ue,2,1,"span",7),S.Kc(8,fe,2,0,"mat-icon",8),S.Wb(),S.Xb(9,"div",0),S.Xb(10,"div",9),S.Mc(11),S.Wb(),S.Wb(),S.Wb(),S.Xb(12,"div",10),S.Xb(13,"div",11),S.Xb(14,"div",12),S.Mc(15),S.Wb(),S.Kc(16,de,4,8,"div",13),S.Xb(17,"div",14),S.Kc(18,pe,6,12,"div",15),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb()),2&e&&(S.Fb(1),S.qc("ngModel",t.selected),S.Fb(4),S.qc("ngIf",null==t.mail.from?null:t.mail.from.avatar),S.Fb(1),S.qc("ngIf",!(null!=t.mail.from&&t.mail.from.avatar)),S.Fb(1),S.qc("ngIf",null==t.mail?null:t.mail.from),S.Fb(1),S.qc("ngIf",t.mail.hasAttachments),S.Fb(3),S.Nc(t.mail.time),S.Fb(4),S.Oc(" ",t.mail.subject," "),S.Fb(1),S.qc("ngIf",null==t.mail?null:t.mail.message),S.Fb(2),S.qc("ngForOf",t.mail.labels))},directives:[K.c,K.b,m.a,_.o,_.r,K.a,z.n,H.b,z.m,h.a,z.o,H.c],pipes:[z.v,re.a,se.a],styles:["mail-list-item{flex-shrink:0;position:relative;padding:16px 24px;border-bottom:1px solid;cursor:pointer}mail-list-item.unread .info .name,mail-list-item.unread .info .row-2 .subject{font-weight:700}mail-list-item .info{overflow:hidden;width:0;margin-left:16px;position:relative}mail-list-item .info .row-1{margin-bottom:8px}mail-list-item .info .row-1 .name{font-size:15px;font-weight:600}mail-list-item .info .row-1 .name .avatar{min-width:32px;width:32px;height:32px;line-height:32px}mail-list-item .info .row-1 .actions{margin-left:4px}mail-list-item .info .row-1 .actions .mat-icon-button{width:32px;height:32px;line-height:1}mail-list-item .info .row-2 .message,mail-list-item .info .row-2 .subject{width:100%}mail-list-item .info .row-2 .message{position:relative}mail-list-item .info .row-2 .labels{margin-top:8px}mail-list-item .info .row-2 .labels .label{font-size:11px;border-radius:4px;margin:0 4px 0 0;padding:3px 8px}mail-list-item .info .row-2 .labels .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}"],encapsulation:2}),ge);function xe(e,t){1&e&&(S.Xb(0,"div",3),S.Xb(1,"span",4),S.Mc(2),S.kc(3,"translate"),S.Wb(),S.Wb()),2&e&&(S.Fb(2),S.Nc(S.lc(3,1,"MAIL.NO_MESSAGES")))}var Me=function(e){return{"current-mail":e}},ye=function(){return{y:"100%"}},we=function(e){return{value:"*",params:e}};function Xe(e,t){if(1&e){var i=S.Yb();S.Xb(0,"mail-list-item",5),S.fc("click",function(){S.Cc(i);var e=t.$implicit;return S.jc().readMail(e.id)}),S.Wb()}if(2&e){var a=t.$implicit,n=S.jc();S.qc("mail",a)("ngClass",S.tc(3,Me,(null==a?null:a.id)==(null==n.currentMail?null:n.currentMail.id)))("@animate",S.tc(6,we,S.sc(5,ye)))}}var We,Fe=function(){return{value:"50"}},Se=((We=function(){function e(t,i,a){n(this,e),this._activatedRoute=t,this._mailService=i,this._location=a,this._unsubscribeAll=new A.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onMailsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.mails=t}),this._mailService.onCurrentMailChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){if(t)e.currentMail=t;else{e.currentMail=null;var i=e._activatedRoute.snapshot.params.labelHandle,a=e._activatedRoute.snapshot.params.filterHandle,n=e._activatedRoute.snapshot.params.folderHandle;e._location.go(i?"apps/mail/label/"+i:a?"apps/mail/filter/"+a:"apps/mail/"+n)}})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"readMail",value:function(e){var t=this._activatedRoute.snapshot.params.labelHandle,i=this._activatedRoute.snapshot.params.filterHandle;this._location.go(t?"apps/mail/label/"+t+"/"+e:i?"apps/mail/filter/"+i+"/"+e:"apps/mail/"+this._activatedRoute.snapshot.params.folderHandle+"/"+e),this._mailService.setCurrentMail(e)}}]),e}()).\u0275fac=function(e){return new(e||We)(S.Rb(s.a),S.Rb(L),S.Rb(z.j))},We.\u0275cmp=S.Lb({type:We,selectors:[["mail-list"]],decls:3,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"mail-list"],[3,"mail","ngClass","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],[3,"mail","ngClass","click"]],template:function(e,t){1&e&&(S.Kc(0,xe,4,3,"div",0),S.Xb(1,"div",1),S.Kc(2,Xe,1,8,"mail-list-item",2),S.Wb()),2&e&&(S.qc("ngIf",0===t.mails.length),S.Fb(1),S.qc("@animateStagger",S.sc(3,Fe)),S.Fb(1),S.qc("ngForOf",t.mails))},directives:[z.n,z.m,K.c,K.b,K.d,ve,z.l,H.a],pipes:[M.c],styles:["mail-list{position:relative;display:flex;flex-direction:column;flex:1;padding:0;border-right:1px solid;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-list .no-messages-text{font-size:24px;font-weight:300}mail-list .mail-list{position:relative;display:flex;flex-direction:column;flex:1}"],encapsulation:2,data:{animation:D.a}}),We),ke=function(){return{delay:"300ms",scale:"0.2"}},Le=function(e){return{value:"*",params:e}},_e=function(){return{delay:"400ms"}};function Ae(e,t){1&e&&(S.Xb(0,"div",2),S.Xb(1,"mat-icon",3),S.Mc(2," email "),S.Wb(),S.Xb(3,"span",4),S.Xb(4,"span"),S.Mc(5),S.kc(6,"translate"),S.Wb(),S.Wb(),S.Wb()),2&e&&(S.Fb(1),S.qc("@animate",S.tc(6,Le,S.sc(5,ke))),S.Fb(2),S.qc("@animate",S.tc(9,Le,S.sc(8,_e))),S.Fb(2),S.Nc(S.lc(6,3,"MAIL.SELECT_A_MESSAGE_TO_READ")))}var Ce=function(e){return{"background-color":e}};function Ie(e,t){if(1&e&&(S.Xb(0,"div",34),S.Sb(1,"div",35),S.kc(2,"getById"),S.Xb(3,"div",36),S.Mc(4),S.kc(5,"getById"),S.Wb(),S.Wb()),2&e){var i=t.$implicit,a=S.jc(2);S.Fb(1),S.qc("ngStyle",S.tc(10,Ce,S.nc(2,2,a.labels,i,"color"))),S.Fb(3),S.Nc(S.nc(5,6,a.labels,i,"title"))}}function Oe(e,t){1&e&&(S.Xb(0,"mat-icon",37),S.Mc(1,"star"),S.Wb())}function Ee(e,t){1&e&&(S.Xb(0,"mat-icon",38),S.Mc(1,"star_border"),S.Wb())}function je(e,t){1&e&&(S.Xb(0,"mat-icon",39),S.Mc(1,"label"),S.Wb())}function qe(e,t){1&e&&(S.Xb(0,"mat-icon",38),S.Mc(1,"label_outline"),S.Wb())}function Te(e,t){if(1&e&&S.Sb(0,"img",40),2&e){var i=S.jc(2);S.rc("alt",i.mail.from.name),S.rc("src",i.mail.from.avatar,S.Ec)}}function Re(e,t){if(1&e&&(S.Xb(0,"div",41),S.Mc(1),S.Wb()),2&e){var i=S.jc(2);S.Fb(1),S.Oc(" ",i.mail.from.name[0]," ")}}function Pe(e,t){1&e&&(S.Xb(0,"span"),S.Mc(1,"Show Details"),S.Wb())}function De(e,t){1&e&&(S.Xb(0,"span"),S.Mc(1,"Hide Details"),S.Wb())}function Ke(e,t){if(1&e&&(S.Xb(0,"div",42),S.Xb(1,"div",43),S.Xb(2,"span",44),S.Mc(3,"From:"),S.Wb(),S.Xb(4,"span",44),S.Mc(5,"To:"),S.Wb(),S.Xb(6,"span",44),S.Mc(7,"Date:"),S.Wb(),S.Wb(),S.Xb(8,"div",43),S.Xb(9,"span",45),S.Mc(10),S.Wb(),S.Xb(11,"span",45),S.Mc(12),S.Wb(),S.Xb(13,"span",45),S.Mc(14),S.Wb(),S.Wb(),S.Wb()),2&e){var i=S.jc(2);S.Fb(10),S.Nc(i.mail.from.email),S.Fb(2),S.Nc(i.mail.to[0].email),S.Fb(2),S.Nc(i.mail.time)}}function Ne(e,t){if(1&e&&(S.Xb(0,"div",49),S.Sb(1,"img",50),S.Xb(2,"div",43),S.Xb(3,"a",51),S.Mc(4,"View"),S.Wb(),S.Xb(5,"a",51),S.Mc(6,"Download"),S.Wb(),S.Xb(7,"div",52),S.Mc(8),S.Wb(),S.Wb(),S.Wb()),2&e){var i=t.$implicit;S.Fb(1),S.rc("src",i.preview,S.Ec),S.Fb(7),S.Oc("(",i.size,")")}}function He(e,t){if(1&e&&(S.Xb(0,"div",46),S.Xb(1,"div",44),S.Xb(2,"span"),S.Mc(3,"Attachments"),S.Wb(),S.Mc(4),S.Wb(),S.Xb(5,"div",47),S.Kc(6,Ne,9,2,"div",48),S.Wb(),S.Wb()),2&e){var i=S.jc(2);S.Fb(4),S.Oc(" (",i.mail.attachments.length,") "),S.Fb(2),S.qc("ngForOf",i.mail.attachments)}}function Be(e,t){if(1&e){var i=S.Yb();S.Xb(0,"div"),S.Xb(1,"div",5),S.Xb(2,"div"),S.Xb(3,"div",6),S.Mc(4),S.Wb(),S.Xb(5,"div",7),S.Kc(6,Ie,6,12,"div",8),S.Wb(),S.Wb(),S.Xb(7,"div",9),S.Xb(8,"button",10),S.fc("click",function(e){return S.Cc(i),S.jc().toggleStar(e)}),S.Kc(9,Oe,2,0,"mat-icon",11),S.Kc(10,Ee,2,0,"mat-icon",12),S.Wb(),S.Xb(11,"button",13),S.fc("click",function(e){return S.Cc(i),S.jc().toggleImportant(e)}),S.Kc(12,je,2,0,"mat-icon",14),S.Kc(13,qe,2,0,"mat-icon",12),S.Wb(),S.Wb(),S.Wb(),S.Xb(14,"div",15),S.Xb(15,"div",16),S.Xb(16,"div",17),S.Xb(17,"div",18),S.Xb(18,"div"),S.Kc(19,Te,1,2,"img",19),S.Kc(20,Re,2,1,"div",20),S.Wb(),S.Xb(21,"div",21),S.Xb(22,"div",22),S.Mc(23),S.Wb(),S.Xb(24,"div",23),S.Xb(25,"div",24),S.Mc(26,"to"),S.Wb(),S.Xb(27,"div"),S.Mc(28),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Xb(29,"a",25),S.fc("click",function(){S.Cc(i);var e=S.jc();return e.showDetails=!e.showDetails}),S.Kc(30,Pe,2,0,"span",1),S.Kc(31,De,2,0,"span",1),S.Wb(),S.Kc(32,Ke,15,3,"div",26),S.Wb(),S.Xb(33,"button",27),S.fc("click",function(e){return e.stopPropagation()}),S.Xb(34,"mat-icon"),S.Mc(35,"more_vert"),S.Wb(),S.Wb(),S.Xb(36,"mat-menu",null,28),S.Xb(38,"button",29),S.Xb(39,"mat-icon"),S.Mc(40,"reply"),S.Wb(),S.Xb(41,"span"),S.Mc(42,"Reply"),S.Wb(),S.Wb(),S.Xb(43,"button",30),S.Xb(44,"mat-icon"),S.Mc(45,"forward"),S.Wb(),S.Xb(46,"span"),S.Mc(47,"Forward"),S.Wb(),S.Wb(),S.Xb(48,"button",31),S.Xb(49,"mat-icon"),S.Mc(50,"print"),S.Wb(),S.Xb(51,"span"),S.Mc(52,"Print"),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Sb(53,"div",32),S.Wb(),S.Kc(54,He,7,2,"div",33),S.Wb()}if(2&e){var a=S.yc(37),n=S.jc();S.Fb(4),S.Nc(n.mail.subject),S.Fb(2),S.qc("ngForOf",n.mail.labels),S.Fb(3),S.qc("ngIf",n.mail.starred),S.Fb(1),S.qc("ngIf",!n.mail.starred),S.Fb(2),S.qc("ngIf",n.mail.important),S.Fb(1),S.qc("ngIf",!n.mail.important),S.Fb(6),S.qc("ngIf",n.mail.from.avatar),S.Fb(1),S.qc("ngIf",!n.mail.from.avatar),S.Fb(3),S.Oc(" ",n.mail.from.name," "),S.Fb(5),S.Nc(n.mail.to[0].name),S.Fb(2),S.qc("ngIf",!n.showDetails),S.Fb(1),S.qc("ngIf",n.showDetails),S.Fb(1),S.qc("ngIf",n.showDetails),S.Fb(1),S.qc("matMenuTriggerFor",a),S.Fb(20),S.qc("innerHTML",n.mail.message,S.Dc),S.Fb(1),S.qc("ngIf",n.mail.attachments)}}var ze,Ge=((ze=function(){function e(t){n(this,e),this._mailService=t,this.showDetails=!1,this._unsubscribeAll=new A.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onCurrentMailChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.mail=t}),this._mailService.onLabelsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.labels=t})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleStar",value:function(e){e.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}},{key:"toggleImportant",value:function(e){e.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}]),e}()).\u0275fac=function(e){return new(e||ze)(S.Rb(L))},ze.\u0275cmp=S.Lb({type:ze,selectors:[["mail-details"]],decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-128","mb-16","select-message-icon","hint-text"],[1,"select-message-text","hint-text"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mail-header"],[1,"subject"],["fxLayout","row wrap",1,"labels","mt-8"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"actions"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","Toggle important",3,"click"],["class","red-fg",4,"ngIf"],[1,"mail-content"],["fxLayout","row","fxLayoutAlign","space-between start",1,"info"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start start"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar","ms-random-class","vm.colors",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start"],[1,"name"],["fxLayout","row","fxLayoutAlign","start center",1,"to"],[1,"to-text"],[1,"toggle-details",3,"click"],["class","details","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","Reply"],["mat-menu-item","","aria-label","Forward"],["mat-menu-item","","aria-label","Print"],[3,"innerHTML"],["class","mail-attachments",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"],[1,"amber-fg"],[1,"secondary-text"],[1,"red-fg"],[1,"avatar",3,"alt","src"],["ms-random-class","vm.colors",1,"avatar"],["fxLayout","row","fxLayoutAlign","start start",1,"details"],["fxLayout","column"],[1,"title"],[1,"detail"],[1,"mail-attachments"],["fxLayout","row wrap",1,"attachment-list"],["class","attachment","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"attachment"],[1,"preview",3,"src"],["href","#","onclick","event.preventDefault()"],[1,"size"]],template:function(e,t){1&e&&(S.Kc(0,Ae,7,11,"div",0),S.Kc(1,Be,55,16,"div",1)),2&e&&(S.qc("ngIf",!t.mail),S.Fb(1),S.qc("ngIf",t.mail))},directives:[z.n,K.c,K.b,K.a,h.a,z.m,b.b,g.d,g.a,g.b,z.o,H.c],pipes:[M.c,se.a],styles:["mail-details{display:flex;flex-direction:column;flex:1;padding:24px;overflow-y:auto;-webkit-overflow-scrolling:touch}mail-details .select-message-text{font-size:24px;font-weight:300}mail-details .mail-header{padding-bottom:16px;border-bottom:1px solid}mail-details .mail-header .actions{min-width:88px}mail-details .mail-header .subject{font-size:17px;font-weight:600}mail-details .mail-header .label{font-size:11px;border-radius:4px;margin:4px 4px 4px 0;padding:3px 8px}mail-details .mail-header .label .label-color{width:8px;height:8px;margin-right:8px;border-radius:50%}mail-details .mail-content{padding:24px 0}mail-details .mail-content .to .to-text{margin-right:4px;text-transform:lowercase}mail-details .mail-content .info{padding-bottom:16px}mail-details .mail-content .info .avatar{margin-right:16px}mail-details .mail-content .info .name{margin-right:8px;font-weight:600}mail-details .mail-content .info .toggle-details{-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:underline;padding-top:16px;cursor:pointer;font-weight:600}mail-details .mail-content .info .details{padding-top:8px}mail-details .mail-content .info .details .title{font-weight:600;margin-right:6px}mail-details .mail-attachments{padding:24px 0;border-top:1px solid}mail-details .mail-attachments .title{margin-bottom:16px;font-weight:600}mail-details .mail-attachments .attachment .preview{width:100px;margin:0 16px 8px 0;border-radius:4px}mail-details .mail-attachments .attachment .link{margin-bottom:2px}mail-details .mail-attachments .attachment .size{font-size:11px}"],encapsulation:2,data:{animation:D.a}}),ze);function $e(e,t){1&e&&S.Sb(0,"div",26)}function Ye(e,t){if(1&e){var i=S.Yb();S.Xb(0,"button",27),S.fc("click",function(){return S.Cc(i),S.jc().setFolderOnSelectedMails(4)}),S.Xb(1,"mat-icon",8),S.Mc(2,"delete"),S.Wb(),S.Wb()}}function Ue(e,t){if(1&e&&(S.Xb(0,"button",14),S.Xb(1,"mat-icon",8),S.Mc(2,"folder"),S.Wb(),S.Wb()),2&e){S.jc();var i=S.yc(44);S.qc("matMenuTriggerFor",i)}}function Ve(e,t){if(1&e){var i=S.Yb();S.Xb(0,"button",16),S.fc("click",function(){S.Cc(i);var e=t.$implicit;return S.jc().setFolderOnSelectedMails(e.id)}),S.Mc(1),S.Wb()}if(2&e){var a=t.$implicit;S.Fb(1),S.Oc("",a.title," ")}}function Je(e,t){if(1&e&&(S.Xb(0,"button",14),S.Xb(1,"mat-icon",8),S.Mc(2,"label"),S.Wb(),S.Wb()),2&e){S.jc();var i=S.yc(48);S.qc("matMenuTriggerFor",i)}}function Qe(e,t){if(1&e){var i=S.Yb();S.Xb(0,"button",16),S.fc("click",function(){S.Cc(i);var e=t.$implicit;return S.jc().toggleLabelOnSelectedMails(e.id)}),S.Mc(1),S.Wb()}if(2&e){var a=t.$implicit;S.Fb(1),S.Oc("",a.title," ")}}function Ze(e,t){if(1&e){var i=S.Yb();S.Xb(0,"div",28),S.Xb(1,"button",27),S.fc("click",function(){return S.Cc(i),S.jc().deselectCurrentMail()}),S.Xb(2,"mat-icon",8),S.Mc(3,"arrow_back"),S.Wb(),S.Wb(),S.Wb()}}var et,tt,it=function(e){return{"current-mail-selected":e}},at=((et=function(){function e(t,i,a){n(this,e),this._mailService=t,this._fuseSidebarService=i,this._fuseTranslationLoaderService=a,this._fuseTranslationLoaderService.loadTranslations(E,j),this.searchInput=new _.e(""),this._unsubscribeAll=new A.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this._mailService.onSelectedMailsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){setTimeout(function(){e.hasSelectedMails=t.length>0,e.isIndeterminate=t.length!==e._mailService.mails.length&&t.length>0},0)}),this._mailService.onFoldersChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.folders=e._mailService.folders}),this._mailService.onFiltersChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.filters=e._mailService.filters}),this._mailService.onLabelsChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.labels=e._mailService.labels}),this._mailService.onCurrentMailChanged.pipe(Object(C.a)(this._unsubscribeAll)).subscribe(function(t){e.currentMail=t||null}),this.searchInput.valueChanges.pipe(Object(C.a)(this._unsubscribeAll),Object(I.a)(300),Object(O.a)()).subscribe(function(t){e._mailService.onSearchTextChanged.next(t)})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleSelectAll",value:function(){this._mailService.toggleSelectAll()}},{key:"selectMails",value:function(e,t){this._mailService.selectMails(e,t)}},{key:"deselectMails",value:function(){this._mailService.deselectMails()}},{key:"deselectCurrentMail",value:function(){this._mailService.onCurrentMailChanged.next(null)}},{key:"toggleLabelOnSelectedMails",value:function(e){this._mailService.toggleLabelOnSelectedMails(e)}},{key:"setFolderOnSelectedMails",value:function(e){this._mailService.setFolderOnSelectedMails(e)}},{key:"toggleSidebar",value:function(e){this._fuseSidebarService.getSidebar(e).toggleOpen()}}]),e}()).\u0275fac=function(e){return new(e||et)(S.Rb(L),S.Rb(q.a),S.Rb(T.a))},et.\u0275cmp=S.Lb({type:et,selectors:[["mail"]],decls:54,vars:17,consts:[["id","mail",1,"page-layout","carded","left-sidebar","inner-scroll"],[1,"top-bg","accent"],["name","mail-main-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"center"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["mat-icon-button","","fxHide.gt-md","",1,"sidebar-toggle",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"search"],[1,"secondary-text"],["fxFlex","",3,"formControl","placeholder"],[1,"content-card",3,"ngClass"],[1,"toolbar","px-24","py-8"],["fxFlex","row","fxLayoutAlign","start center",1,"mail-selection"],[3,"checked","indeterminate","click"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],["class","toolbar-separator",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["folderMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["labelMenu","matMenu"],["fxHide.gt-xs","",4,"ngIf"],["fxLayout","row",1,"content"],["fusePerfectScrollbar","","fxFlex",""],[1,"toolbar-separator"],["mat-icon-button","",3,"click"],["fxHide.gt-xs",""]],template:function(e,t){if(1&e&&(S.Xb(0,"div",0),S.Sb(1,"div",1),S.Xb(2,"fuse-sidebar",2),S.Sb(3,"mail-main-sidebar"),S.Wb(),S.Xb(4,"div",3),S.Xb(5,"div",4),S.Xb(6,"div",5),S.Xb(7,"button",6),S.fc("click",function(){return t.toggleSidebar("mail-main-sidebar")}),S.Xb(8,"mat-icon"),S.Mc(9,"menu"),S.Wb(),S.Wb(),S.Xb(10,"div",7),S.Xb(11,"mat-icon",8),S.Mc(12,"search"),S.Wb(),S.Sb(13,"input",9),S.kc(14,"translate"),S.Wb(),S.Wb(),S.Wb(),S.Xb(15,"div",10),S.Xb(16,"div",11),S.Xb(17,"div",12),S.Xb(18,"mat-checkbox",13),S.fc("click",function(){return t.toggleSelectAll()}),S.Wb(),S.Xb(19,"button",14),S.Xb(20,"mat-icon"),S.Mc(21,"arrow_drop_down"),S.Wb(),S.Wb(),S.Xb(22,"mat-menu",null,15),S.Xb(24,"button",16),S.fc("click",function(){return t.selectMails()}),S.Mc(25,"All"),S.Wb(),S.Xb(26,"button",16),S.fc("click",function(){return t.deselectMails()}),S.Mc(27,"None"),S.Wb(),S.Xb(28,"button",16),S.fc("click",function(){return t.selectMails("read",!0)}),S.Mc(29,"Read"),S.Wb(),S.Xb(30,"button",16),S.fc("click",function(){return t.selectMails("read",!1)}),S.Mc(31,"Unread"),S.Wb(),S.Xb(32,"button",16),S.fc("click",function(){return t.selectMails("starred",!0)}),S.Mc(33,"Starred"),S.Wb(),S.Xb(34,"button",16),S.fc("click",function(){return t.selectMails("starred",!1)}),S.Mc(35,"Unstarred"),S.Wb(),S.Xb(36,"button",16),S.fc("click",function(){return t.selectMails("important",!0)}),S.Mc(37,"Important"),S.Wb(),S.Xb(38,"button",16),S.fc("click",function(){return t.selectMails("important",!1)}),S.Mc(39,"Unimportant"),S.Wb(),S.Wb(),S.Kc(40,$e,1,0,"div",17),S.Kc(41,Ye,3,0,"button",18),S.Kc(42,Ue,3,1,"button",19),S.Xb(43,"mat-menu",null,20),S.Kc(45,Ve,2,1,"button",21),S.Wb(),S.Kc(46,Je,3,1,"button",19),S.Xb(47,"mat-menu",null,22),S.Kc(49,Qe,2,1,"button",21),S.Wb(),S.Wb(),S.Kc(50,Ze,4,0,"div",23),S.Wb(),S.Xb(51,"div",24),S.Sb(52,"mail-list",25),S.Sb(53,"mail-details",25),S.Wb(),S.Wb(),S.Wb(),S.Wb()),2&e){var i=S.yc(23);S.Fb(13),S.qc("formControl",t.searchInput)("placeholder",S.lc(14,13,"MAIL.SEARCH_PLACEHOLDER")),S.Fb(2),S.qc("ngClass",S.tc(15,it,t.currentMail)),S.Fb(3),S.qc("checked",t.hasSelectedMails)("indeterminate",t.isIndeterminate),S.Fb(1),S.qc("matMenuTriggerFor",i),S.Fb(21),S.qc("ngIf",t.hasSelectedMails),S.Fb(1),S.qc("ngIf",t.hasSelectedMails),S.Fb(1),S.qc("ngIf",t.hasSelectedMails),S.Fb(3),S.qc("ngForOf",t.folders),S.Fb(1),S.qc("ngIf",t.hasSelectedMails),S.Fb(3),S.qc("ngForOf",t.labels),S.Fb(1),S.qc("ngIf",t.currentMail)}},directives:[R.a,P.a,oe,K.c,K.b,K.a,b.b,H.b,h.a,_.c,_.o,_.f,z.l,H.a,m.a,g.d,g.a,g.b,z.n,z.m,Se,N.a,Ge],pipes:[M.c],styles:["mail{width:100%}mail .center .header .search-wrapper{border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}mail .center .header .search-wrapper .sidebar-toggle{margin:0 0 0 6px;width:56px;height:56px;border-radius:0;border-right:1px solid}mail .center .header .search-wrapper .search{width:100%;height:56px;line-height:56px;padding:0 18px}mail .center .header .search-wrapper .search input{height:56px;min-height:56px;max-height:56px;padding:0 16px;border:none;outline:none}mail .center .content-card .toolbar .toolbar-separator{height:32px;width:1px;margin:0 12px}@media screen and (max-width:599px){mail .center .content-card mail-list{border-right:none}mail .center .content-card mail-details,mail .center .content-card mail-list{flex:1 0 100%}mail .center .content-card mail-details{display:none!important}mail .center .content-card.current-mail-selected .toolbar{padding-left:16px!important}mail .center .content-card.current-mail-selected .content mail-list,mail .center .content-card.current-mail-selected .toolbar .mail-selection{display:none!important}mail .center .content-card.current-mail-selected .content mail-details{display:flex!important}}"],encapsulation:2}),et),nt=[{path:"label/:labelHandle",component:at,resolve:{mail:L}},{path:"label/:labelHandle/:mailId",component:at,resolve:{mail:L}},{path:"filter/:filterHandle",component:at,resolve:{mail:L}},{path:"filter/:filterHandle/:mailId",component:at,resolve:{mail:L}},{path:":folderHandle",component:at,resolve:{mail:L}},{path:":folderHandle/:mailId",component:at,resolve:{mail:L}},{path:"**",redirectTo:"inbox"}],lt=((tt=function e(){n(this,e)}).\u0275mod=S.Pb({type:tt}),tt.\u0275inj=S.Ob({factory:function(e){return new(e||tt)},providers:[L],imports:[[s.k.forChild(nt),b.c,m.b,f.e,d.e,h.b,p.c,g.c,u.p,v.b,x.b,M.b,y.a,w.h]]}),tt)}}])}();