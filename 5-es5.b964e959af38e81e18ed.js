!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{hYeI:function(i,a,r){"use strict";r.r(a),r.d(a,"MailConfirmModule",function(){return le});var n=r("tyNb"),o=r("NFeN"),c=r("5HBU"),s=r("PVWW"),m=r("tk/3"),l=r("vkgz"),u=r("eIep"),d=r("JIr8"),g=r("nYR2"),b=r("pLZG"),h=r("XNiG"),f=r("HDdC"),p=r("EY2u"),v=r("3Pt+"),w=r("AytR"),y=r("fXoL"),k=r("0JVi"),S=r("k1t7"),A=r("dNgK"),C=r("mkVU"),I=r("XiUz"),F=r("ofXK"),x=r("IyRd"),W=r("kmnG"),M=r("qFsG"),E=r("bTqV"),X=["video"],_=["canvas"];function O(e,i){if(1&e){var t=y.Yb();y.Xb(0,"div",6),y.fc("click",function(){return y.Cc(t),y.jc().rotateVideoInput(!0)}),y.Wb()}}var D,T,V=function(){function i(t,a,r){e(this,i),this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=a,this._imageAsDataUrl=t,this._imageData=r}return t(i,[{key:"imageAsBase64",get:function(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=i.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}},{key:"imageAsDataUrl",get:function(){return this._imageAsDataUrl}},{key:"imageData",get:function(){return this._imageData}}],[{key:"getDataFromDataUrl",value:function(e,i){return e.replace("data:".concat(i,";base64,"),"")}}]),i}(),q=((T=function(){function i(){e(this,i),this.width=640,this.height=480,this.videoOptions=i.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=i.DEFAULT_IMAGE_TYPE,this.imageQuality=i.DEFAULT_IMAGE_QUALITY,this.imageCapture=new y.o,this.initError=new y.o,this.imageClick=new y.o,this.cameraSwitched=new y.o,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}return t(i,[{key:"ngAfterViewInit",value:function(){var e=this;this.detectAvailableDevices().then(function(){e.switchToVideoInput(null)}).catch(function(i){e.initError.next({message:i}),e.switchToVideoInput(null)})}},{key:"ngOnDestroy",value:function(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}},{key:"takeSnapshot",value:function(){var e=this.nativeVideoElement,t={width:this.width,height:this.height};e.videoWidth&&(t.width=e.videoWidth,t.height=e.videoHeight);var a=this.canvas.nativeElement;a.width=t.width,a.height=t.height;var r=a.getContext("2d");r.drawImage(e,0,0);var n=this.imageType?this.imageType:i.DEFAULT_IMAGE_TYPE,o=a.toDataURL(n,this.imageQuality?this.imageQuality:i.DEFAULT_IMAGE_QUALITY),c=null;this.captureImageData&&(c=r.getImageData(0,0,a.width,a.height)),this.imageCapture.next(new V(o,n,c))}},{key:"rotateVideoInput",value:function(e){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(e?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}},{key:"switchToVideoInput",value:function(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}},{key:"videoResize",value:function(){}},{key:"getVideoAspectRatio",value:function(){var e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}},{key:"initWebcam",value:function(e,t){var a=this,r=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var n=i.getMediaConstraintsForDevice(e,t);navigator.mediaDevices.getUserMedia({video:n}).then(function(e){a.mediaStream=e,r.srcObject=e,r.play(),a.activeVideoSettings=e.getVideoTracks()[0].getSettings();var t=i.getDeviceIdFromMediaStreamTrack(e.getVideoTracks()[0]);a.cameraSwitched.next(t),a.detectAvailableDevices().then(function(){a.activeVideoInputIndex=t?a.availableVideoInputs.findIndex(function(e){return e.deviceId===t}):-1,a.videoInitialized=!0}).catch(function(){a.activeVideoInputIndex=-1,a.videoInitialized=!0})}).catch(function(e){a.initError.next({message:e.message,mediaStreamError:e})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}},{key:"getActiveVideoTrack",value:function(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}},{key:"isMirrorImage",value:function(){if(!this.getActiveVideoTrack())return!1;var e="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}return i.isUserFacing(this.getActiveVideoTrack())}},{key:"stopMediaTracks",value:function(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach(function(e){return e.stop()})}},{key:"unsubscribeFromSubscriptions",value:function(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}},{key:"detectAvailableDevices",value:function(){return new Promise(function(e,i){})}},{key:"trigger",set:function(e){var i=this;this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(function(){i.takeSnapshot()})}},{key:"switchCamera",set:function(e){var i=this;this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(function(e){"string"==typeof e?i.switchToVideoInput(e):i.rotateVideoInput(!1!==e)})}},{key:"videoWidth",get:function(){var e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}},{key:"videoHeight",get:function(){var e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}},{key:"videoStyleClasses",get:function(){var e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}},{key:"nativeVideoElement",get:function(){return this.video.nativeElement}}],[{key:"getMediaConstraintsForDevice",value:function(e,i){var t=i||this.DEFAULT_VIDEO_OPTIONS;return e&&(t.deviceId={exact:e}),t}},{key:"getDeviceIdFromMediaStreamTrack",value:function(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){var t=e.getConstraints().deviceId;return i.getValueFromConstrainDOMString(t)}}},{key:"getFacingModeFromMediaStreamTrack",value:function(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){var t=e.getConstraints().facingMode;return i.getValueFromConstrainDOMString(t)}}}},{key:"isUserFacing",value:function(e){var t=i.getFacingModeFromMediaStreamTrack(e);return!!t&&"user"===t.toLowerCase()}},{key:"getValueFromConstrainDOMString",value:function(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if("object"==typeof e){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}}]),i}()).\u0275fac=function(e){return new(e||T)},T.\u0275cmp=y.Lb({type:T,selectors:[["webcam"]],viewQuery:function(e,i){var t;1&e&&(y.Qc(X,3),y.Qc(_,3)),2&e&&(y.xc(t=y.gc())&&(i.video=t.first),y.xc(t=y.gc())&&(i.canvas=t.first))},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera",mirrorImage:"mirrorImage"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(e,i){1&e&&(y.Xb(0,"div",0),y.fc("click",function(){return i.imageClick.next()}),y.Xb(1,"video",1,2),y.fc("resize",function(){return i.videoResize()}),y.Wb(),y.Kc(3,O,1,0,"div",3),y.Sb(4,"canvas",4,5),y.Wb()),2&e&&(y.Fb(1),y.Hb(i.videoStyleClasses),y.qc("width",i.videoWidth)("height",i.videoHeight),y.Fb(2),y.qc("ngIf",i.allowCameraSwitch&&i.availableVideoInputs.length>1&&i.videoInitialized),y.Fb(1),y.qc("width",i.width)("height",i.height))},directives:[F.m],styles:['.webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}']}),T.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},T.DEFAULT_IMAGE_TYPE="image/jpeg",T.DEFAULT_IMAGE_QUALITY=.92,T),N=((D=function i(){e(this,i)}).\u0275mod=y.Pb({type:D}),D.\u0275inj=y.Ob({factory:function(e){return new(e||D)},imports:[[F.c]]}),D);function R(e,i){if(1&e){var t=y.Yb();y.Xb(0,"zxing-scanner",19),y.fc("scanSuccess",function(e){return y.Cc(t),y.jc(2).handleQrCodeResult(e)}),y.Wb()}}function U(e,i){1&e&&(y.Xb(0,"div",20),y.Xb(1,"div",21),y.Xb(2,"div",22),y.Mc(3,"Verifying..."),y.Wb(),y.Xb(4,"div",23),y.Mc(5,"Please wait."),y.Wb(),y.Wb(),y.Wb())}function j(e,i){if(1&e&&(y.Vb(0),y.Xb(1,"div",15),y.Mc(2,"Scan QR Code for registration"),y.Wb(),y.Xb(3,"div",16),y.Kc(4,R,1,0,"zxing-scanner",17),y.Kc(5,U,6,0,"div",18),y.Wb(),y.Ub()),2&e){var t=y.jc();y.Fb(4),y.qc("ngIf",!t.loading),y.Fb(1),y.qc("ngIf",t.loading)}}function Q(e,i){if(1&e){var t=y.Yb();y.Vb(0),y.Xb(1,"div",15),y.Mc(2,"Registration Failed"),y.Wb(),y.Xb(3,"div",16),y.Xb(4,"p"),y.Mc(5,"Registration Code is not valid"),y.Wb(),y.Wb(),y.Xb(6,"div",13),y.Xb(7,"a",24),y.fc("click",function(){return y.Cc(t),y.jc().resetState()}),y.Mc(8,"Try again"),y.Wb(),y.Wb(),y.Ub()}}function B(e,i){if(1&e){var t=y.Yb();y.Vb(0),y.Xb(1,"div",15),y.Mc(2,"Registration Failed"),y.Wb(),y.Xb(3,"div",16),y.Xb(4,"p"),y.Mc(5,"QR Code is already registered"),y.Wb(),y.Wb(),y.Xb(6,"div",13),y.Xb(7,"a",24),y.fc("click",function(){return y.Cc(t),y.jc().resetState()}),y.Mc(8,"Try again"),y.Wb(),y.Wb(),y.Ub()}}function z(e,i){1&e&&(y.Xb(0,"mat-error"),y.Mc(1," Name is required "),y.Wb())}function P(e,i){1&e&&(y.Xb(0,"mat-error"),y.Mc(1," CompanyName is required "),y.Wb())}function L(e,i){1&e&&(y.Xb(0,"mat-error"),y.Mc(1," CompanyName is required "),y.Wb())}function Y(e,i){1&e&&(y.Xb(0,"mat-error"),y.Mc(1," Invalid Email. "),y.Wb())}function G(e,i){1&e&&(y.Xb(0,"mat-error"),y.Mc(1," Phone Number is required "),y.Wb())}function J(e,i){if(1&e&&(y.Xb(0,"option",37),y.Mc(1),y.Wb()),2&e){var t=i.$implicit;y.qc("ngValue",t.value),y.Fb(1),y.Nc(t.name)}}function K(e,i){1&e&&(y.Xb(0,"mat-error"),y.Mc(1," Bike Type is required "),y.Wb())}function H(e,i){if(1&e){var t=y.Yb();y.Vb(0),y.Xb(1,"webcam",38),y.fc("imageCapture",function(e){return y.Cc(t),y.jc(2).handleImage(e)})("initError",function(e){return y.Cc(t),y.jc(2).handleInitError(e)}),y.Wb(),y.Xb(2,"button",39),y.fc("click",function(){return y.Cc(t),y.jc(2).triggerSnapshot()}),y.Mc(3,"Take Selfie"),y.Wb(),y.Ub()}if(2&e){var a=y.jc(2);y.Fb(1),y.qc("trigger",a.triggerObservable)("height",300)("width",300)}}function Z(e,i){if(1&e){var t=y.Yb();y.Vb(0),y.Xb(1,"div",40),y.Sb(2,"img",41),y.Wb(),y.Xb(3,"button",39),y.fc("click",function(){return y.Cc(t),y.jc(2).webcamImage=null}),y.Mc(4,"Retry selfie"),y.Wb(),y.Ub()}if(2&e){var a=y.jc(2);y.Fb(2),y.qc("src",a.webcamImage.imageAsDataUrl,y.Ec)}}function $(e,i){1&e&&(y.Xb(0,"h4"),y.Mc(1,"Camera Errors:"),y.Wb())}function ee(e,i){if(1&e&&(y.Xb(0,"ul"),y.Xb(1,"li"),y.Mc(2),y.kc(3,"json"),y.Wb(),y.Wb()),2&e){var t=i.$implicit;y.Fb(2),y.Nc(y.lc(3,1,t))}}function ie(e,i){if(1&e){var t=y.Yb();y.Vb(0),y.Xb(1,"div",15),y.Mc(2,"Registration Code Verified"),y.Wb(),y.Xb(3,"div",16),y.Xb(4,"p"),y.Mc(5,"Please continue with registration form below"),y.Wb(),y.Wb(),y.Xb(6,"form",25),y.fc("ngSubmit",function(){return y.Cc(t),y.jc().onSubmit()}),y.Xb(7,"mat-form-field",26),y.Xb(8,"mat-label"),y.Mc(9,"Name"),y.Wb(),y.Sb(10,"input",27),y.Xb(11,"mat-icon",28),y.Mc(12,"account_circle"),y.Wb(),y.Kc(13,z,2,0,"mat-error",12),y.Wb(),y.Xb(14,"mat-form-field",26),y.Xb(15,"mat-label"),y.Mc(16,"Company Name"),y.Wb(),y.Sb(17,"input",29),y.Xb(18,"mat-icon",28),y.Mc(19,"business"),y.Wb(),y.Kc(20,P,2,0,"mat-error",12),y.Wb(),y.Xb(21,"mat-form-field",26),y.Xb(22,"mat-label"),y.Mc(23,"Company Email Address"),y.Wb(),y.Sb(24,"input",30),y.Xb(25,"mat-icon",28),y.Mc(26,"mail"),y.Wb(),y.Kc(27,L,2,0,"mat-error",12),y.Kc(28,Y,2,0,"mat-error",12),y.Wb(),y.Xb(29,"mat-form-field",26),y.Xb(30,"mat-label"),y.Mc(31,"Phone Number"),y.Wb(),y.Sb(32,"input",31),y.Xb(33,"mat-icon",28),y.Mc(34,"phone"),y.Wb(),y.Kc(35,G,2,0,"mat-error",12),y.Wb(),y.Xb(36,"mat-form-field",26),y.Xb(37,"mat-label"),y.Mc(38,"Bike Type"),y.Wb(),y.Xb(39,"select",32),y.Kc(40,J,2,2,"option",33),y.Wb(),y.Kc(41,K,2,0,"mat-error",12),y.Wb(),y.Xb(42,"div",34),y.Kc(43,H,4,3,"ng-container",12),y.Kc(44,Z,5,1,"ng-container",12),y.Kc(45,$,2,0,"h4",12),y.Kc(46,ee,4,3,"ul",35),y.Wb(),y.Xb(47,"button",36),y.fc("click",function(){return y.Cc(t),y.jc().registerAccount()}),y.Mc(48," Create Account "),y.Wb(),y.Wb(),y.Ub()}if(2&e){var a=y.jc();y.Fb(6),y.qc("formGroup",a.validateForm),y.Fb(7),y.qc("ngIf",(null==a.name.errors?null:a.name.errors.required)&&a.name.invalid&&(a.name.dirty||a.name.touched)),y.Fb(7),y.qc("ngIf",a.companyName.invalid&&(a.companyName.dirty||a.companyName.touched)&&(null==a.companyName.errors?null:a.companyName.errors.required)),y.Fb(7),y.qc("ngIf",a.companyEmailAddress.invalid&&(a.companyEmailAddress.dirty||a.companyEmailAddress.touched)&&(null==a.companyEmailAddress.errors?null:a.companyEmailAddress.errors.required)),y.Fb(1),y.qc("ngIf",a.companyEmailAddress.invalid&&(a.companyEmailAddress.dirty||a.companyEmailAddress.touched)&&(null==a.companyEmailAddress.errors?null:a.companyEmailAddress.errors.email)),y.Fb(7),y.qc("ngIf",a.phoneNumber.invalid&&(a.phoneNumber.dirty||a.phoneNumber.touched)&&(null==a.phoneNumber.errors?null:a.phoneNumber.errors.required)),y.Fb(5),y.qc("ngForOf",a.bikeTypes),y.Fb(1),y.qc("ngIf",a.bikeType.invalid&&(a.bikeType.dirty||a.bikeType.touched)&&(null==a.bikeType.errors?null:a.bikeType.errors.required)),y.Fb(2),y.qc("ngIf",!a.webcamImage),y.Fb(1),y.qc("ngIf",a.webcamImage),y.Fb(1),y.qc("ngIf",a.webCamErrors.length>0),y.Fb(1),y.qc("ngForOf",a.webCamErrors),y.Fb(1),y.qc("disabled",!a.validateForm.valid)}}function te(e,i){if(1&e&&(y.Vb(0),y.Xb(1,"div",15),y.Mc(2,"Registration Complete"),y.Wb(),y.Xb(3,"div",16),y.Xb(4,"p"),y.Mc(5," A confirmation e-mail has been sent to "),y.Xb(6,"b"),y.Mc(7),y.Wb(),y.Mc(8,". "),y.Wb(),y.Wb(),y.Ub()),2&e){var t=y.jc();y.Fb(7),y.Nc(t.companyEmailAddress.value)}}var ae,re,ne=function(){return{duration:"300ms",y:"100px"}},oe=function(e){return{value:"*",params:e}},ce=((ae=function(){function i(t,a,r,n,o,c){e(this,i),this._fuseConfigService=t,this._http=a,this._fuseProgressBarService=r,this.fb=n,this._snackbar=o,this._coreService=c,this._headers=(new m.f).set("Content-Type","application/json"),this._qrCode$=new h.a,this._isOnline$=new f.a,this._isOnline=!1,this._baseurl="",this.regSuccess=!1,this.regComplete=!1,this.regFailed=!1,this.regDuplicate=!1,this.loading=!1,this.bikeTypes=[{name:"Road Bike",value:"Road Bike"},{name:"Seli",value:"Seli"},{name:"MTB",value:"MTB"},{name:"Other",value:"Other"}],this.webCamErrors=[],this.trigger=new h.a,this._fuseConfigService.config={layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}},this._baseurl=w.a.apiUrl}return t(i,[{key:"ngOnInit",value:function(){var e=this;this.validateForm=this.fb.group({name:[null,[v.w.required]],companyName:[null,[v.w.required]],companyEmailAddress:[null,[v.w.required,v.w.email]],phoneNumber:[null,[v.w.required]],bikeType:[null,[v.w.required]]}),this._qrCode$.asObservable().pipe(Object(l.a)(function(){e._fuseProgressBarService.show(),e.loading=!0}),Object(u.a)(function(i){return e._http.post("".concat(e._baseurl,"/verifycode"),{reg_code:i},{headers:e._headers}).pipe(Object(d.a)(function(i){return e._snackbar.open(i.message,"",{duration:4e3,panelClass:["red-snackbar","login-snackbar"]}),p.a}),Object(g.a)(function(){e.loading=!1,e._fuseProgressBarService.hide()}))}),Object(l.a)(function(i){!1===i.status&&(e.regFailed=!0,e.regSuccess=!1)}),Object(b.a)(function(e){return"verified"===e.message}),Object(l.a)(function(i){i.code_used>0&&(e.regDuplicate=!0)}),Object(b.a)(function(e){return 0===e.code_used})).subscribe(function(i){e._regCodeReturned=i.reg_code,e.regSuccess=!0,e.regFailed=!1})}},{key:"_monitorOnlineStatus",value:function(){var e=this;this._isOnline$=this._coreService.isOnline,this._isOnline$.subscribe(function(i){e._isOnline=i;var t=localStorage.getItem("qrCode");e._isOnline?e._snackbar.open("You are online!","Dismiss",{duration:4e3,panelClass:"green-snackbar"}):e._snackbar.open("You are offline!","Dismiss",{duration:4e3,panelClass:"red-snackbar"}),e._isOnline&&t&&e._submitQrCode(t)})}},{key:"handleQrCodeResult",value:function(e){e&&this._qrCode$.next(e)}},{key:"_submitQrCode",value:function(e){this._qrCode$.next(e)}},{key:"resetState",value:function(){this.regFailed=!1,this.regSuccess=!1,this.regDuplicate=!1,this._regCodeReturned="",this.regComplete=!1}},{key:"onSubmit",value:function(){for(var e in this.validateForm.controls)this.validateForm.controls[e]&&(this.validateForm.controls[e].markAsDirty(),this.validateForm.controls[e].updateValueAndValidity());this.validateForm.valid&&console.log(this.validateForm.value,"test")}},{key:"triggerSnapshot",value:function(){this.trigger.next()}},{key:"handleImage",value:function(e){this.webcamImage=e}},{key:"handleInitError",value:function(e){e.mediaStreamError&&"NotAllowedError"===e.mediaStreamError.name&&this._snackbar.open("Camera access was not allowed by user!","Dismiss",{duration:4e3,panelClass:"red-snackbar"}),this.webCamErrors.push(e)}},{key:"_b64toBlob",value:function(e,i){i=i||"";for(var t=atob(e),a=[],r=0;r<t.length;r+=512){for(var n=t.slice(r,r+512),o=new Array(n.length),c=0;c<n.length;c++)o[c]=n.charCodeAt(c);var s=new Uint8Array(o);a.push(s)}return new Blob(a,{type:i})}},{key:"registerAccount",value:function(){var e=this,i=new FormData;if(i.append("reg_code",this._regCodeReturned),i.append("nama_lengkap",this.name.value),i.append("jenis_sepeda",this.bikeType.value),i.append("email",this.companyEmailAddress.value),i.append("perusahaan",this.companyName.value),i.append("hp",this.phoneNumber.value),this.webcamImage){var t=this._b64toBlob(this.webcamImage.imageAsBase64,this.webcamImage._mimeType);i.append("image",t)}this._fuseProgressBarService.show(),this._http.post("".concat(this._baseurl,"/cyclists"),i).pipe(Object(d.a)(function(i){return e._snackbar.open(i.message,"Dismiss",{duration:4e3,panelClass:"red-snackbar"}),p.a}),Object(g.a)(function(){e.loading=!1,e._fuseProgressBarService.hide()})).subscribe(function(i){i.status&&"success"===i.message&&(e.regComplete=!0)})}},{key:"triggerObservable",get:function(){return this.trigger.asObservable()}},{key:"name",get:function(){return this.validateForm.get("name")}},{key:"companyName",get:function(){return this.validateForm.get("companyName")}},{key:"companyEmailAddress",get:function(){return this.validateForm.get("companyEmailAddress")}},{key:"phoneNumber",get:function(){return this.validateForm.get("phoneNumber")}},{key:"bikeType",get:function(){return this.validateForm.get("bikeType")}}]),i}()).\u0275fac=function(e){return new(e||ae)(y.Rb(k.b),y.Rb(m.c),y.Rb(S.a),y.Rb(v.d),y.Rb(A.a),y.Rb(C.a))},ae.\u0275cmp=y.Lb({type:ae,selectors:[["mail-confirm"]],decls:20,vars:10,consts:[["id","mail-confirm","fxLayout","column"],["id","mail-confirm-form-wrapper","fxLayout","column","fxLayoutAlign","center center"],["id","mail-confirm-form",2,"padding-top","32px"],[1,"logo"],["src","assets/images/logos/sinarmas.svg",1,"logo-icon"],["fxLayout","row wrap","fxLayoutGap","32px","fxLayoutAlign","flex-start"],["fxFlex","0 1 calc(40% - 32px)",1,"header-logo"],["src","assets/images/logos/left.svg",1,"logo-icon"],["fxFlex","0 1 calc(20% - 32px)",1,"header-logo-mid"],["src","assets/images/logos/tech.svg",1,"logo-icon"],["fxFlex","0 1 calc(40% - 32px)",1,"header-logo-right"],["src","assets/images/logos/right.svg",1,"logo-icon"],[4,"ngIf"],[1,"message"],[1,"link",3,"routerLink"],[1,"title"],[1,"subtitle"],["id","qrRegistration",3,"scanSuccess",4,"ngIf"],["class","fuse-card",4,"ngIf"],["id","qrRegistration",3,"scanSuccess"],[1,"fuse-card"],[1,"p-64"],[1,"h1"],[1,"h4","secondary-text"],[1,"link",3,"routerLink","click"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","name"],["matSuffix","",1,"secondary-text"],["matInput","","formControlName","companyName"],["matInput","","formControlName","companyEmailAddress"],["matInput","","formControlName","phoneNumber"],["matNativeControl","","required","","formControlName","bikeType"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"subtitle",2,"margin","0","overflow","hidden","max-width","100%","margin-bottom","10px"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","accent","aria-label","Create Account",1,"submit-button",2,"margin-top","30px",3,"disabled","click"],[3,"ngValue"],[2,"margin-bottom","10px",3,"trigger","height","width","imageCapture","initError"],["mat-raised-button","","color","accent",1,"actionBtn",3,"click"],[2,"margin-bottom","10px"],["width","300",3,"src"]],template:function(e,i){1&e&&(y.Xb(0,"div",0),y.Xb(1,"div",1),y.Xb(2,"div",2),y.Xb(3,"div",3),y.Sb(4,"img",4),y.Wb(),y.Xb(5,"div",5),y.Xb(6,"div",6),y.Sb(7,"img",7),y.Wb(),y.Xb(8,"div",8),y.Sb(9,"img",9),y.Wb(),y.Xb(10,"div",10),y.Sb(11,"img",11),y.Wb(),y.Wb(),y.Kc(12,j,6,2,"ng-container",12),y.Kc(13,Q,9,0,"ng-container",12),y.Kc(14,B,9,0,"ng-container",12),y.Kc(15,ie,49,13,"ng-container",12),y.Kc(16,te,9,1,"ng-container",12),y.Xb(17,"div",13),y.Xb(18,"a",14),y.Mc(19,"Go to login page"),y.Wb(),y.Wb(),y.Wb(),y.Wb(),y.Wb()),2&e&&(y.Fb(2),y.qc("@animate",y.uc(8,oe,y.tc(7,ne))),y.Fb(10),y.qc("ngIf",!(i.regSuccess||i.regFailed||i.regDuplicate||i.regComplete)),y.Fb(1),y.qc("ngIf",i.regFailed),y.Fb(1),y.qc("ngIf",i.regDuplicate),y.Fb(1),y.qc("ngIf",i.regSuccess),y.Fb(1),y.qc("ngIf",i.regComplete),y.Fb(2),y.qc("routerLink","/auth/login"))},directives:[I.c,I.b,I.d,I.a,F.m,n.j,x.a,v.y,v.p,v.i,W.c,W.g,M.b,v.c,v.o,v.g,o.a,W.h,v.v,v.u,F.l,E.b,W.b,v.s,v.x,q],pipes:[F.g],styles:["mail-confirm #mail-confirm{width:100%;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat;background-size:cover}mail-confirm #mail-confirm #mail-confirm-form-wrapper{flex:1 0 auto;padding:32px}@media screen and (max-width:599px){mail-confirm #mail-confirm #mail-confirm-form-wrapper{padding:0}}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form{max-width:480px;padding:48px;text-align:center;box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}@media screen and (max-width:599px){mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form{padding:24px;width:100%}}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .logo{margin:0 auto 32px}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .header-logo{width:128px}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .header-logo-right{width:128px;margin-left:auto!important}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .header-logo-mid{width:160px;position:absolute;left:calc(48% - 70px)}@media only screen and (min-width:992px){mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .header-logo-mid{width:160px;position:absolute;left:calc(48% - 38px)}}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .title{font-size:20px;margin-top:16px}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .subtitle{margin:16px auto;max-width:300px;font-size:15px}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form .message{font-weight:600;text-align:center;margin-top:40px}mail-confirm #mail-confirm #mail-confirm-form-wrapper #mail-confirm-form #qrRegistration video{height:300px}"],encapsulation:2,data:{animation:s.a}}),ae),se=r("bSwM"),me=[{path:"",component:ce}],le=((re=function i(){e(this,i)}).\u0275mod=y.Pb({type:re}),re.\u0275inj=y.Ob({factory:function(e){return new(e||re)},imports:[[n.k.forChild(me),o.b,c.a,x.b,E.c,A.b,se.b,W.e,o.b,M.c,N]]}),re)}}])}();