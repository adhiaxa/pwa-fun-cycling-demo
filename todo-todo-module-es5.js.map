{"version":3,"sources":["webpack:///src/app/main/apps/todo/todo-list/todo-list-item/todo-list-item.component.ts","webpack:///src/app/main/apps/todo/todo-list/todo-list-item/todo-list-item.component.html","webpack:///src/app/main/apps/todo/sidebars/main/main-sidebar.component.ts","webpack:///src/app/main/apps/todo/sidebars/main/main-sidebar.component.html","webpack:///src/app/main/apps/todo/todo.service.ts","webpack:///src/app/main/apps/todo/todo-list/todo-list.component.ts","webpack:///src/app/main/apps/todo/todo-list/todo-list.component.html","webpack:///src/app/main/apps/todo/todo.component.ts","webpack:///src/app/main/apps/todo/todo.component.html","webpack:///src/app/main/apps/todo/todo.model.ts","webpack:///src/app/main/apps/todo/todo.module.ts","webpack:///src/app/main/apps/todo/todo-details/todo-details.component.ts","webpack:///src/app/main/apps/todo/todo-details/todo-details.component.html"],"names":["TodoListItemComponent","_todoService","_activatedRoute","snapshot","url","path","moveDisabled","_unsubscribeAll","todo","completed","onSelectedTodosChanged","pipe","subscribe","selectedTodos","selected","length","id","onTagsChanged","tags","next","complete","toggleSelectedTodo","event","stopPropagation","toggleStar","updateTodo","toggleImportant","toggleCompleted","onSelectedChange","$event","TodoMainSidebarComponent","_router","accounts","creapond","withinpixels","selectedAccount","onFiltersChanged","filters","navigate","then","setTimeout","onNewTodoClicked","newTodo","TodoService","_httpClient","_location","searchText","onTodosChanged","onCurrentTodoChanged","onSearchTextChanged","route","state","routeParams","params","Promise","resolve","reject","all","getFilters","getTags","getTodos","todoId","setCurrentTodo","get","response","tagHandle","getTodosByTag","filterHandle","getTodosByFilter","getTodosByParams","handle","todos","map","filterArrayByString","param","tagId","index","indexOf","splice","push","find","deselectTodos","selectTodos","filterParameter","filterValue","undefined","filter","currentTodo","go","toggleTagOnTodo","post","TodoListComponent","ev","onDrop","TodoComponent","_fuseSidebarService","searchInput","hasSelectedTodos","isIndeterminate","folders","valueChanges","formType","toggleSelectAll","toggleTagOnSelectedTodos","name","getSidebar","toggleOpen","toggleSidebar","Todo","title","notes","startDate","dueDate","starred","important","deleted","routes","component","redirectTo","TodoModule","forChild","TodoDetailsComponent","_formBuilder","todoForm","createTodoForm","data","labels","generateGUID","focusTitleField","titleInputField","nativeElement","focus","group","toggleDeleted","hasTag","getRawValue"],"mappings":"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","file":"todo-todo-module-es5.js","sourcesContent":["import { Component, HostBinding, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subject } from 'rxjs';\nimport { Todo } from 'app/main/apps/todo/todo.model';\nimport { TodoService } from 'app/main/apps/todo/todo.service';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector     : 'todo-list-item',\n    templateUrl  : './todo-list-item.component.html',\n    styleUrls    : ['./todo-list-item.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class TodoListItemComponent implements OnInit, OnDestroy\n{\n    tags: any[];\n\n    @Input()\n    todo: Todo;\n\n    @HostBinding('class.selected')\n    selected: boolean;\n\n    @HostBinding('class.completed')\n    completed: boolean;\n\n    @HostBinding('class.move-disabled')\n    moveDisabled: boolean;\n\n    // Private\n    private _unsubscribeAll: Subject<any>;\n\n    /**\n     * Constructor\n     *\n     * @param {TodoService} _todoService\n     * @param {ActivatedRoute} _activatedRoute\n     */\n    constructor(\n        private _todoService: TodoService,\n        private _activatedRoute: ActivatedRoute\n    )\n    {\n        // Disable move if path is not /all\n        if ( _activatedRoute.snapshot.url[0].path !== 'all' )\n        {\n            this.moveDisabled = true;\n        }\n\n        // Set the private defaults\n        this._unsubscribeAll = new Subject();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n    ngOnInit(): void\n    {\n        // Set the initial values\n        this.todo = new Todo(this.todo);\n        this.completed = this.todo.completed;\n\n        // Subscribe to update on selected todo change\n        this._todoService.onSelectedTodosChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(selectedTodos => {\n                this.selected = false;\n\n                if ( selectedTodos.length > 0 )\n                {\n                    for ( const todo of selectedTodos )\n                    {\n                        if ( todo.id === this.todo.id )\n                        {\n                            this.selected = true;\n                            break;\n                        }\n                    }\n                }\n            });\n\n        // Subscribe to update on tag change\n        this._todoService.onTagsChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(tags => {\n                this.tags = tags;\n            });\n    }\n\n    /**\n     * On destroy\n     */\n    ngOnDestroy(): void\n    {\n        // Unsubscribe from all subscriptions\n        this._unsubscribeAll.next();\n        this._unsubscribeAll.complete();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On selected change\n     */\n    onSelectedChange(): void\n    {\n        this._todoService.toggleSelectedTodo(this.todo.id);\n    }\n\n    /**\n     * Toggle star\n     */\n    toggleStar(event): void\n    {\n        event.stopPropagation();\n\n        this.todo.toggleStar();\n        this._todoService.updateTodo(this.todo);\n    }\n\n    /**\n     * Toggle Important\n     */\n    toggleImportant(event): void\n    {\n        event.stopPropagation();\n\n        this.todo.toggleImportant();\n        this._todoService.updateTodo(this.todo);\n    }\n\n    /**\n     * Toggle Completed\n     */\n    toggleCompleted(event): void\n    {\n        event.stopPropagation();\n\n        this.todo.toggleCompleted();\n        this._todoService.updateTodo(this.todo);\n    }\n}\n","<div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\n    <mat-icon class=\"handle mr-16\" ngxDragHandle fxFlex=\"0 1 auto\" fxHide.xs>\n        drag_handle\n    </mat-icon>\n\n    <mat-checkbox [(ngModel)]=\"selected\" (ngModelChange)=\"onSelectedChange()\"\n                  class=\"mr-16\" fxFlex=\"0 1 auto\" (click)=\"$event.stopPropagation()\">\n    </mat-checkbox>\n\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFlex>\n\n        <div class=\"info\" fxFlex fxFlexLayout=\"column\">\n\n            <div class=\"title\">\n                {{todo.title}}\n            </div>\n\n            <div class=\"notes\">\n                {{todo.notes}}\n            </div>\n\n            <div class=\"tags\" fxLayout=\"row wrap\" fxLayoutAlign=\"start center\">\n\n                <div class=\"tag\" fxLayout=\"row\" fxLayoutAlign=\"start center\" *ngFor=\"let tagId of todo.tags\">\n                    <div class=\"tag-color\" [ngStyle]=\"{'background-color': tags | getById:tagId:'color'}\"></div>\n                    <div class=\"tag-label\">{{tags | getById:tagId:'title'}}</div>\n                </div>\n\n            </div>\n\n        </div>\n\n        <div class=\"actions\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\n            <button mat-icon-button (click)=\"toggleImportant($event)\"\n                    aria-label=\"Toggle important\" fxHide.xs>\n                <mat-icon class=\"red-fg\" *ngIf=\"todo.important\">error</mat-icon>\n                <mat-icon class=\"secondary-text\" *ngIf=\"!todo.important\">error_outline</mat-icon>\n            </button>\n\n            <button mat-icon-button (click)=\"toggleStar($event)\"\n                    aria-label=\"Toggle star\" fxHide.xs>\n                <mat-icon class=\"amber-fg\" *ngIf=\"todo.starred\">star</mat-icon>\n                <mat-icon class=\"secondary-text\" *ngIf=\"!todo.starred\">star_border</mat-icon>\n            </button>\n\n            <button mat-icon-button [matMenuTriggerFor]=\"moreMenu\" aria-label=\"More\" (click)=\"$event.stopPropagation()\"\n                    fxHide.xs>\n                <mat-icon class=\"secondary-text\">more_vert</mat-icon>\n            </button>\n\n            <mat-menu #moreMenu=\"matMenu\">\n                <button mat-menu-item aria-label=\"toggle done\" (click)=\"toggleCompleted($event)\">\n                    <ng-container *ngIf=\"todo.completed\">\n                        <mat-icon>check_box</mat-icon>\n                        <span>Mark as undone</span>\n                    </ng-container>\n                    <ng-container *ngIf=\"!todo.completed\">\n                        <mat-icon>check_box_outline_blank</mat-icon>\n                        <span>Mark as done</span>\n                    </ng-container>\n                </button>\n\n                <button mat-menu-item aria-label=\"toggle important\" (click)=\"toggleImportant($event)\">\n                    <ng-container *ngIf=\"todo.important\">\n                        <mat-icon>error</mat-icon>\n                        <span>Remove important</span>\n                    </ng-container>\n                    <ng-container *ngIf=\"!todo.important\">\n                        <mat-icon>error_outline</mat-icon>\n                        <span>Mark as important</span>\n                    </ng-container>\n                </button>\n\n                <button mat-menu-item aria-label=\"toggle star\" (click)=\"toggleStar($event)\">\n                    <ng-container *ngIf=\"todo.starred\">\n                        <mat-icon>star</mat-icon>\n                        <span>Remove star</span>\n                    </ng-container>\n                    <ng-container *ngIf=\"!todo.starred\">\n                        <mat-icon>star_border</mat-icon>\n                        <span>Add star</span>\n                    </ng-container>\n                </button>\n            </mat-menu>\n\n        </div>\n\n    </div>\n\n</div>\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { fuseAnimations } from '@fuse/animations';\n\nimport { TodoService } from 'app/main/apps/todo/todo.service';\n\n@Component({\n    selector     : 'todo-main-sidebar',\n    templateUrl  : './main-sidebar.component.html',\n    styleUrls    : ['./main-sidebar.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    animations   : fuseAnimations\n})\nexport class TodoMainSidebarComponent implements OnInit, OnDestroy\n{\n    folders: any[];\n    filters: any[];\n    tags: any[];\n    accounts: object;\n    selectedAccount: string;\n\n    // Private\n    private _unsubscribeAll: Subject<any>;\n\n    /**\n     * Constructor\n     *\n     * @param {TodoService} _todoService\n     * @param {Router} _router\n     */\n    constructor(\n        private _todoService: TodoService,\n        private _router: Router\n    )\n    {\n        // Set the defaults\n        this.accounts = {\n            creapond    : 'johndoe@creapond.com',\n            withinpixels: 'johndoe@withinpixels.com'\n        };\n        this.selectedAccount = 'creapond';\n\n        // Set the private defaults\n        this._unsubscribeAll = new Subject();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n    ngOnInit(): void\n    {\n        this._todoService.onFiltersChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(filters => {\n                this.filters = filters;\n            });\n\n        this._todoService.onTagsChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(tags => {\n                this.tags = tags;\n            });\n    }\n\n    /**\n     * On destroy\n     */\n    ngOnDestroy(): void\n    {\n        // Unsubscribe from all subscriptions\n        this._unsubscribeAll.next();\n        this._unsubscribeAll.complete();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * New todo\n     */\n    newTodo(): void\n    {\n        this._router.navigate(['/apps/todo/all']).then(() => {\n            setTimeout(() => {\n                this._todoService.onNewTodoClicked.next('');\n            });\n        });\n    }\n}\n","<!-- SIDEBAR HEADER -->\n<div fxLayout=\"column\" fxLayoutAlign=\"space-between start\"\n     class=\"header accent p-24 pb-4\">\n    <div class=\"logo\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\n        <mat-icon class=\"logo-icon s-32\" [@animate]=\"{value:'*',params:{delay:'50ms',scale:'0.2'}}\">\n            check_box\n        </mat-icon>\n        <span class=\"logo-text\" [@animate]=\"{value:'*',params:{delay:'100ms',x:'-25px'}}\">To-Do</span>\n    </div>\n\n    <div class=\"account\" fxLayout=\"column\" [@animate]=\"{value:'*',params:{delay:'300ms'}}\">\n        <div class=\"title\">John Doe</div>\n        <mat-form-field floatLabel=\"never\">\n            <mat-select class=\"account-selection\" placeholder=\"Todo Selection\"\n                        [ngModel]=\"selectedAccount\">\n                <mat-option *ngFor=\"let account of (accounts | keys)\" [value]=\"account.key\">\n                    {{account.value}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n\n</div>\n<!-- / SIDEBAR HEADER -->\n\n<!-- SIDEBAR CONTENT -->\n<div class=\"content\" fusePerfectScrollbar [@animate]=\"{value:'*',params:{y:'50px'}}\">\n\n    <div class=\"p-24\">\n        <button mat-raised-button\n                class=\"mat-accent add-todo-button w-100-p\"\n                (click)=\"newTodo()\"\n                aria-label=\"ADD TASK\">\n            ADD TASK\n        </button>\n    </div>\n\n    <div class=\"nav material2\">\n\n        <div class=\"nav-item\">\n            <a class=\"nav-link\" matRipple [routerLink]=\"'/apps/todo/all'\"\n               [routerLinkActive]=\"['active', 'accent']\">\n                <mat-icon class=\"nav-link-icon\">view_headline</mat-icon>\n                <span>All</span>\n            </a>\n        </div>\n\n        <div class=\"nav-subheader\">FILTERS</div>\n\n        <div class=\"nav-item\" *ngFor=\"let filter of filters\">\n            <a class=\"nav-link\" matRipple [routerLink]=\"'/apps/todo/filter/' + filter.handle\"\n               [routerLinkActive]=\"['active', 'accent']\">\n                <mat-icon class=\"nav-link-icon\" *ngIf=\"filter.icon\">{{filter.icon}}</mat-icon>\n                <span>{{filter.title}}</span>\n            </a>\n        </div>\n\n        <div class=\"nav-subheader\">TAGS</div>\n\n        <div class=\"nav-item\" *ngFor=\"let tag of tags\">\n            <a class=\"nav-link\" matRipple [routerLink]=\"'/apps/todo/tag/' + tag.handle\"\n               [routerLinkActive]=\"['active', 'accent']\">\n                <mat-icon class=\"nav-link-icon\" [ngStyle]=\"{'color':tag.color}\">label</mat-icon>\n                <span>{{tag.title}}</span>\n            </a>\n        </div>\n\n    </div>\n\n</div>\n<!-- / SIDEBAR CONTENT -->\n","import { Injectable } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\n\nimport { FuseUtils } from '@fuse/utils';\n\nimport { Todo } from 'app/main/apps/todo/todo.model';\n\n@Injectable()\nexport class TodoService implements Resolve<any>\n{\n    todos: Todo[];\n    selectedTodos: Todo[];\n    currentTodo: Todo;\n    searchText: string;\n    filters: any[];\n    tags: any[];\n    routeParams: any;\n\n    onTodosChanged: BehaviorSubject<any>;\n    onSelectedTodosChanged: BehaviorSubject<any>;\n    onCurrentTodoChanged: BehaviorSubject<any>;\n    onFiltersChanged: BehaviorSubject<any>;\n    onTagsChanged: BehaviorSubject<any>;\n    onSearchTextChanged: BehaviorSubject<any>;\n    onNewTodoClicked: Subject<any>;\n\n    /**\n     * Constructor\n     *\n     * @param {HttpClient} _httpClient\n     * @param {Location} _location\n     */\n    constructor(\n        private _httpClient: HttpClient,\n        private _location: Location\n    )\n    {\n        // Set the defaults\n        this.selectedTodos = [];\n        this.searchText = '';\n        this.onTodosChanged = new BehaviorSubject([]);\n        this.onSelectedTodosChanged = new BehaviorSubject([]);\n        this.onCurrentTodoChanged = new BehaviorSubject([]);\n        this.onFiltersChanged = new BehaviorSubject([]);\n        this.onTagsChanged = new BehaviorSubject([]);\n        this.onSearchTextChanged = new BehaviorSubject('');\n        this.onNewTodoClicked = new Subject();\n    }\n\n    /**\n     * Resolver\n     *\n     * @param {ActivatedRouteSnapshot} route\n     * @param {RouterStateSnapshot} state\n     * @returns {Observable<any> | Promise<any> | any}\n     */\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> | Promise<any> | any\n    {\n        this.routeParams = route.params;\n\n        return new Promise((resolve, reject) => {\n\n            Promise.all([\n                this.getFilters(),\n                this.getTags(),\n                this.getTodos()\n            ]).then(\n                () => {\n                    if ( this.routeParams.todoId )\n                    {\n                        this.setCurrentTodo(this.routeParams.todoId);\n                    }\n                    else\n                    {\n                        this.setCurrentTodo(null);\n                    }\n\n                    this.onSearchTextChanged.subscribe(searchText => {\n                        if ( searchText !== '' )\n                        {\n                            this.searchText = searchText;\n                            this.getTodos();\n                        }\n                        else\n                        {\n                            this.searchText = searchText;\n                            this.getTodos();\n                        }\n                    });\n                    resolve();\n                },\n                reject\n            );\n        });\n    }\n\n    /**\n     * Get all filters\n     *\n     * @returns {Promise<any>}\n     */\n    getFilters(): Promise<any>\n    {\n        return new Promise((resolve, reject) => {\n            this._httpClient.get('api/todo-filters')\n                .subscribe((response: any) => {\n                    this.filters = response;\n                    this.onFiltersChanged.next(this.filters);\n                    resolve(this.filters);\n                }, reject);\n        });\n    }\n\n    /**\n     * Get all tags\n     *\n     * @returns {Promise<any>}\n     */\n    getTags(): Promise<any>\n    {\n        return new Promise((resolve, reject) => {\n            this._httpClient.get('api/todo-tags')\n                .subscribe((response: any) => {\n                    this.tags = response;\n                    this.onTagsChanged.next(this.tags);\n                    resolve(this.tags);\n                }, reject);\n        });\n    }\n\n    /**\n     * Get todos\n     *\n     * @returns {Promise<Todo[]>}\n     */\n    getTodos(): Promise<Todo[]>\n    {\n        if ( this.routeParams.tagHandle )\n        {\n            return this.getTodosByTag(this.routeParams.tagHandle);\n        }\n\n        if ( this.routeParams.filterHandle )\n        {\n            return this.getTodosByFilter(this.routeParams.filterHandle);\n        }\n\n        return this.getTodosByParams(this.routeParams);\n    }\n\n    /**\n     * Get todos by params\n     *\n     * @param handle\n     * @returns {Promise<Todo[]>}\n     */\n    getTodosByParams(handle): Promise<Todo[]>\n    {\n        return new Promise((resolve, reject) => {\n\n            this._httpClient.get('api/todo-todos')\n                .subscribe((todos: any) => {\n                    this.todos = todos.map(todo => {\n                        return new Todo(todo);\n                    });\n\n                    this.todos = FuseUtils.filterArrayByString(this.todos, this.searchText);\n\n                    this.onTodosChanged.next(this.todos);\n\n                    resolve(this.todos);\n                });\n        });\n    }\n\n    /**\n     * Get todos by filter\n     *\n     * @param handle\n     * @returns {Promise<Todo[]>}\n     */\n    getTodosByFilter(handle): Promise<Todo[]>\n    {\n\n        let param = handle + '=true';\n\n        if ( handle === 'dueDate' )\n        {\n            param = handle + '=^$|\\\\s+';\n        }\n\n        return new Promise((resolve, reject) => {\n\n            this._httpClient.get('api/todo-todos?' + param)\n                .subscribe((todos: any) => {\n\n                    this.todos = todos.map(todo => {\n                        return new Todo(todo);\n                    });\n\n                    this.todos = FuseUtils.filterArrayByString(this.todos, this.searchText);\n\n                    this.onTodosChanged.next(this.todos);\n\n                    resolve(this.todos);\n\n                }, reject);\n        });\n    }\n\n    /**\n     * Get todos by tag\n     *\n     * @param handle\n     * @returns {Promise<Todo[]>}\n     */\n    getTodosByTag(handle): Promise<Todo[]>\n    {\n        return new Promise((resolve, reject) => {\n            this._httpClient.get('api/todo-tags?handle=' + handle)\n                .subscribe((tags: any) => {\n\n                    const tagId = tags[0].id;\n\n                    this._httpClient.get('api/todo-todos?tags=' + tagId)\n                        .subscribe((todos: any) => {\n\n                            this.todos = todos.map(todo => {\n                                return new Todo(todo);\n                            });\n\n                            this.todos = FuseUtils.filterArrayByString(this.todos, this.searchText);\n\n                            this.onTodosChanged.next(this.todos);\n\n                            resolve(this.todos);\n\n                        }, reject);\n                });\n        });\n    }\n\n    /**\n     * Toggle selected todo by id\n     *\n     * @param id\n     */\n    toggleSelectedTodo(id): void\n    {\n        // First, check if we already have that todo as selected...\n        if ( this.selectedTodos.length > 0 )\n        {\n            for ( const todo of this.selectedTodos )\n            {\n                // ...delete the selected todo\n                if ( todo.id === id )\n                {\n                    const index = this.selectedTodos.indexOf(todo);\n\n                    if ( index !== -1 )\n                    {\n                        this.selectedTodos.splice(index, 1);\n\n                        // Trigger the next event\n                        this.onSelectedTodosChanged.next(this.selectedTodos);\n\n                        // Return\n                        return;\n                    }\n                }\n            }\n        }\n\n        // If we don't have it, push as selected\n        this.selectedTodos.push(\n            this.todos.find(todo => {\n                return todo.id === id;\n            })\n        );\n\n        // Trigger the next event\n        this.onSelectedTodosChanged.next(this.selectedTodos);\n    }\n\n    /**\n     * Toggle select all\n     */\n    toggleSelectAll(): void\n    {\n        if ( this.selectedTodos.length > 0 )\n        {\n            this.deselectTodos();\n        }\n        else\n        {\n            this.selectTodos();\n        }\n\n    }\n\n    /**\n     * Select todos\n     *\n     * @param filterParameter\n     * @param filterValue\n     */\n    selectTodos(filterParameter?, filterValue?): void\n    {\n        this.selectedTodos = [];\n\n        // If there is no filter, select all todos\n        if ( filterParameter === undefined || filterValue === undefined )\n        {\n            this.selectedTodos = this.todos;\n        }\n        else\n        {\n            this.selectedTodos.push(...\n                this.todos.filter(todo => {\n                    return todo[filterParameter] === filterValue;\n                })\n            );\n        }\n\n        // Trigger the next event\n        this.onSelectedTodosChanged.next(this.selectedTodos);\n    }\n\n    /**\n     * Deselect todos\n     */\n    deselectTodos(): void\n    {\n        this.selectedTodos = [];\n\n        // Trigger the next event\n        this.onSelectedTodosChanged.next(this.selectedTodos);\n    }\n\n    /**\n     * Set current todo by id\n     *\n     * @param id\n     */\n    setCurrentTodo(id): void\n    {\n        this.currentTodo = this.todos.find(todo => {\n            return todo.id === id;\n        });\n\n        this.onCurrentTodoChanged.next([this.currentTodo, 'edit']);\n\n        const tagHandle    = this.routeParams.tagHandle,\n              filterHandle = this.routeParams.filterHandle;\n\n        if ( tagHandle )\n        {\n            this._location.go('apps/todo/tag/' + tagHandle + '/' + id);\n        }\n        else if ( filterHandle )\n        {\n            this._location.go('apps/todo/filter/' + filterHandle + '/' + id);\n        }\n        else\n        {\n            this._location.go('apps/todo/all/' + id);\n        }\n    }\n\n    /**\n     * Toggle tag on selected todos\n     *\n     * @param tagId\n     */\n    toggleTagOnSelectedTodos(tagId): void\n    {\n        this.selectedTodos.map(todo => {\n            this.toggleTagOnTodo(tagId, todo);\n        });\n    }\n\n    /**\n     * Toggle tag on todo\n     *\n     * @param tagId\n     * @param todo\n     */\n    toggleTagOnTodo(tagId, todo): void\n    {\n        const index = todo.tags.indexOf(tagId);\n\n        if ( index !== -1 )\n        {\n            todo.tags.splice(index, 1);\n        }\n        else\n        {\n            todo.tags.push(tagId);\n        }\n\n        this.updateTodo(todo);\n    }\n\n    /**\n     * Has tag?\n     *\n     * @param tagId\n     * @param todo\n     * @returns {boolean}\n     */\n    hasTag(tagId, todo): any\n    {\n        if ( !todo.tags )\n        {\n            return false;\n        }\n\n        return todo.tags.indexOf(tagId) !== -1;\n    }\n\n    /**\n     * Update the todo\n     *\n     * @param todo\n     * @returns {Promise<any>}\n     */\n    updateTodo(todo): any\n    {\n        return new Promise((resolve, reject) => {\n\n            this._httpClient.post('api/todo-todos/' + todo.id, {...todo})\n                .subscribe(response => {\n\n                    this.getTodos().then(todos => {\n\n                        resolve(todos);\n\n                    }, reject);\n                });\n        });\n    }\n}\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subject } from 'rxjs';\n\nimport { fuseAnimations } from '@fuse/animations';\n\nimport { Todo } from 'app/main/apps/todo/todo.model';\nimport { TodoService } from 'app/main/apps/todo/todo.service';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector     : 'todo-list',\n    templateUrl  : './todo-list.component.html',\n    styleUrls    : ['./todo-list.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    animations   : fuseAnimations\n})\nexport class TodoListComponent implements OnInit, OnDestroy\n{\n    todos: Todo[];\n    currentTodo: Todo;\n\n    // Private\n    private _unsubscribeAll: Subject<any>;\n\n    /**\n     * Constructor\n     *\n     * @param {ActivatedRoute} _activatedRoute\n     * @param {TodoService} _todoService\n     * @param {Location} _location\n     */\n    constructor(\n        private _activatedRoute: ActivatedRoute,\n        private _todoService: TodoService,\n        private _location: Location\n    )\n    {\n        // Set the private defaults\n        this._unsubscribeAll = new Subject();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n    ngOnInit(): void\n    {\n        // Subscribe to update todos on changes\n        this._todoService.onTodosChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(todos => {\n                this.todos = todos;\n            });\n\n        // Subscribe to update current todo on changes\n        this._todoService.onCurrentTodoChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(currentTodo => {\n                if ( !currentTodo )\n                {\n                    // Set the current todo id to null to deselect the current todo\n                    this.currentTodo = null;\n\n                    // Handle the location changes\n                    const tagHandle    = this._activatedRoute.snapshot.params.tagHandle,\n                          filterHandle = this._activatedRoute.snapshot.params.filterHandle;\n\n                    if ( tagHandle )\n                    {\n                        this._location.go('apps/todo/tag/' + tagHandle);\n                    }\n                    else if ( filterHandle )\n                    {\n                        this._location.go('apps/todo/filter/' + filterHandle);\n                    }\n                    else\n                    {\n                        this._location.go('apps/todo/all');\n                    }\n                }\n                else\n                {\n                    this.currentTodo = currentTodo;\n                }\n            });\n    }\n\n    /**\n     * On destroy\n     */\n    ngOnDestroy(): void\n    {\n        // Unsubscribe from all subscriptions\n        this._unsubscribeAll.next();\n        this._unsubscribeAll.complete();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Read todo\n     *\n     * @param todoId\n     */\n    readTodo(todoId): void\n    {\n        // Set current todo\n        this._todoService.setCurrentTodo(todoId);\n    }\n\n    /**\n     * On drop\n     *\n     * @param ev\n     */\n    onDrop(ev): void\n    {\n\n    }\n}\n","<div *ngIf=\"todos.length === 0\" fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlexFill>\n    <span class=\"no-todos-text hint-text\">There are no todos!</span>\n</div>\n<div class=\"todo-list\" ngxDroppable [model]=\"todos\" (out)=\"onDrop($event)\" [@animateStagger]=\"{value:'50'}\">\n    <todo-list-item class=\"todo-list-item has-handle\"\n                    *ngFor=\"let todo of todos\" [todo]=\"todo\"\n                    ngxDraggable\n                    [model]=\"todo\"\n                    (click)=\"readTodo(todo.id)\"\n                    [ngClass]=\"{'current-todo':todo?.id == currentTodo?.id}\"\n                    [@animate]=\"{value:'*',params:{y:'100%'}}\">\n    </todo-list-item>\n</div>\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\nimport { fuseAnimations } from '@fuse/animations';\nimport { FuseSidebarService } from '@fuse/components/sidebar/sidebar.service';\n\nimport { Todo } from 'app/main/apps/todo/todo.model';\nimport { TodoService } from 'app/main/apps/todo/todo.service';\n\n@Component({\n    selector     : 'todo',\n    templateUrl  : './todo.component.html',\n    styleUrls    : ['./todo.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    animations   : fuseAnimations\n})\nexport class TodoComponent implements OnInit, OnDestroy\n{\n    hasSelectedTodos: boolean;\n    isIndeterminate: boolean;\n    filters: any[];\n    tags: any[];\n    searchInput: FormControl;\n    currentTodo: Todo;\n\n    // Private\n    private _unsubscribeAll: Subject<any>;\n\n    /**\n     * Constructor\n     *\n     * @param {FuseSidebarService} _fuseSidebarService\n     * @param {TodoService} _todoService\n     */\n    constructor(\n        private _fuseSidebarService: FuseSidebarService,\n        private _todoService: TodoService\n    )\n    {\n        // Set the defaults\n        this.searchInput = new FormControl('');\n\n        // Set the private defaults\n        this._unsubscribeAll = new Subject();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n    ngOnInit(): void\n    {\n        this._todoService.onSelectedTodosChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(selectedTodos => {\n\n                setTimeout(() => {\n                    this.hasSelectedTodos = selectedTodos.length > 0;\n                    this.isIndeterminate = (selectedTodos.length !== this._todoService.todos.length && selectedTodos.length > 0);\n                }, 0);\n            });\n\n        this._todoService.onFiltersChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(folders => {\n                this.filters = this._todoService.filters;\n            });\n\n        this._todoService.onTagsChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(tags => {\n                this.tags = this._todoService.tags;\n            });\n\n        this.searchInput.valueChanges\n            .pipe(\n                takeUntil(this._unsubscribeAll),\n                debounceTime(300),\n                distinctUntilChanged()\n            )\n            .subscribe(searchText => {\n                this._todoService.onSearchTextChanged.next(searchText);\n            });\n\n        this._todoService.onCurrentTodoChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(([currentTodo, formType]) => {\n                if ( !currentTodo )\n                {\n                    this.currentTodo = null;\n                }\n                else\n                {\n                    this.currentTodo = currentTodo;\n                }\n            });\n    }\n\n    /**\n     * On destroy\n     */\n    ngOnDestroy(): void\n    {\n        // Unsubscribe from all subscriptions\n        this._unsubscribeAll.next();\n        this._unsubscribeAll.complete();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Deselect current todo\n     */\n    deselectCurrentTodo(): void\n    {\n        this._todoService.onCurrentTodoChanged.next([null, null]);\n    }\n\n    /**\n     * Toggle select all\n     */\n    toggleSelectAll(): void\n    {\n        this._todoService.toggleSelectAll();\n    }\n\n    /**\n     * Select todos\n     *\n     * @param filterParameter\n     * @param filterValue\n     */\n    selectTodos(filterParameter?, filterValue?): void\n    {\n        this._todoService.selectTodos(filterParameter, filterValue);\n    }\n\n    /**\n     * Deselect todos\n     */\n    deselectTodos(): void\n    {\n        this._todoService.deselectTodos();\n    }\n\n    /**\n     * Toggle tag on selected todos\n     *\n     * @param tagId\n     */\n    toggleTagOnSelectedTodos(tagId): void\n    {\n        this._todoService.toggleTagOnSelectedTodos(tagId);\n    }\n\n    /**\n     * Toggle the sidebar\n     *\n     * @param name\n     */\n    toggleSidebar(name): void\n    {\n        this._fuseSidebarService.getSidebar(name).toggleOpen();\n    }\n}\n","<div id=\"todo\" class=\"page-layout carded left-sidebar inner-scroll\">\n\n    <!-- TOP BACKGROUND -->\n    <div class=\"top-bg accent\"></div>\n    <!-- / TOP BACKGROUND -->\n\n    <!-- SIDEBAR -->\n    <fuse-sidebar class=\"sidebar\" name=\"todo-main-sidebar\" position=\"left\" lockedOpen=\"gt-md\">\n        <todo-main-sidebar></todo-main-sidebar>\n    </fuse-sidebar>\n    <!-- / SIDEBAR -->\n\n    <!-- CENTER -->\n    <div class=\"center\">\n\n        <!-- CONTENT HEADER -->\n        <div class=\"header\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\n            <div class=\"search-wrapper\" fxFlex fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\n                <button mat-icon-button class=\"sidebar-toggle\" fxHide.gt-md\n                        (click)=\"toggleSidebar('todo-main-sidebar')\">\n                    <mat-icon>menu</mat-icon>\n                </button>\n\n                <div class=\"search\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\n                    <mat-icon class=\"secondary-text\">search</mat-icon>\n                    <input [formControl]=\"searchInput\" placeholder=\"Search for a task\" fxFlex>\n                </div>\n\n            </div>\n\n        </div>\n        <!-- / CONTENT HEADER -->\n\n        <!-- CONTENT CARD -->\n        <div class=\"content-card\" [ngClass]=\"{'current-todo-selected':currentTodo}\">\n\n            <!-- CONTENT TOOLBAR -->\n            <div class=\"toolbar px-24 py-8\">\n\n                <div class=\"todo-selection\" fxFlex=\"row\" fxLayoutAlign=\"start center\">\n                    <mat-checkbox (click)=\"toggleSelectAll()\" [checked]=\"hasSelectedTodos\"\n                                  [indeterminate]=\"isIndeterminate\"></mat-checkbox>\n\n                    <button mat-icon-button [matMenuTriggerFor]=\"selectMenu\">\n                        <mat-icon>arrow_drop_down</mat-icon>\n                    </button>\n                    <mat-menu #selectMenu=\"matMenu\">\n                        <button mat-menu-item (click)=\"selectTodos()\">All</button>\n                        <button mat-menu-item (click)=\"deselectTodos()\">None</button>\n                        <button mat-menu-item (click)=\"selectTodos('read', true)\">Read</button>\n                        <button mat-menu-item (click)=\"selectTodos('read', false)\">Unread</button>\n                        <button mat-menu-item (click)=\"selectTodos('starred', true)\">Starred</button>\n                        <button mat-menu-item (click)=\"selectTodos('starred', false)\">Unstarred</button>\n                        <button mat-menu-item (click)=\"selectTodos('important', true)\">Important</button>\n                        <button mat-menu-item (click)=\"selectTodos('important', false)\">Unimportant</button>\n                    </mat-menu>\n\n                    <div class=\"toolbar-separator\" *ngIf=\"hasSelectedTodos\"></div>\n\n                    <button mat-icon-button [matMenuTriggerFor]=\"labelMenu\" *ngIf=\"hasSelectedTodos\">\n                        <mat-icon class=\"secondary-text\">label</mat-icon>\n                    </button>\n                    <mat-menu #labelMenu=\"matMenu\">\n                        <button mat-menu-item *ngFor=\"let tag of tags\" (click)=\"toggleTagOnSelectedTodos(tag.id)\">\n                            {{tag.title}}\n                        </button>\n                    </mat-menu>\n                </div>\n\n                <div *ngIf=\"currentTodo\" fxHide.gt-lg>\n                    <button mat-icon-button (click)=\"deselectCurrentTodo()\">\n                        <mat-icon class=\"secondary-text\">arrow_back</mat-icon>\n                    </button>\n                </div>\n\n            </div>\n            <!-- / CONTENT TOOLBAR -->\n\n            <!-- CONTENT -->\n            <div class=\"content\" fxFlexAlign=\"row\">\n                <todo-list fusePerfectScrollbar fxFlex></todo-list>\n                <todo-details fusePerfectScrollbar fxFlex></todo-details>\n            </div>\n            <!-- / CONTENT -->\n\n        </div>\n        <!-- / CONTENT CARD -->\n\n    </div>\n    <!-- / CENTER -->\n\n</div>\n","export class Todo\n{\n    id: string;\n    title: string;\n    notes: string;\n    startDate: string;\n    dueDate: boolean;\n    completed: boolean;\n    starred: boolean;\n    important: boolean;\n    deleted: boolean;\n    tags: [\n        {\n            'id': number,\n            'name': string,\n            'label': string,\n            'color': string\n        }\n        ];\n\n    /**\n     * Constructor\n     *\n     * @param todo\n     */\n    constructor(todo)\n    {\n        {\n            this.id = todo.id;\n            this.title = todo.title;\n            this.notes = todo.notes;\n            this.startDate = todo.startDate;\n            this.dueDate = todo.dueDate;\n            this.completed = todo.completed;\n            this.starred = todo.starred;\n            this.important = todo.important;\n            this.deleted = todo.deleted;\n            this.tags = todo.tags || [];\n        }\n    }\n\n    /**\n     * Toggle star\n     */\n    toggleStar(): void\n    {\n        this.starred = !this.starred;\n    }\n\n    /**\n     * Toggle important\n     */\n    toggleImportant(): void\n    {\n        this.important = !this.important;\n    }\n\n    /**\n     * Toggle completed\n     */\n    toggleCompleted(): void\n    {\n        this.completed = !this.completed;\n    }\n\n    /**\n     * Toggle deleted\n     */\n    toggleDeleted(): void\n    {\n        this.deleted = !this.deleted;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatSelectModule } from '@angular/material/select';\nimport { NgxDnDModule } from '@swimlane/ngx-dnd';\n\nimport { FuseSharedModule } from '@fuse/shared.module';\nimport { FuseSidebarModule } from '@fuse/components';\n\nimport { TodoService } from 'app/main/apps/todo/todo.service';\nimport { TodoComponent } from 'app/main/apps/todo/todo.component';\nimport { TodoMainSidebarComponent } from 'app/main/apps/todo/sidebars/main/main-sidebar.component';\nimport { TodoListItemComponent } from 'app/main/apps/todo/todo-list/todo-list-item/todo-list-item.component';\nimport { TodoListComponent } from 'app/main/apps/todo/todo-list/todo-list.component';\nimport { TodoDetailsComponent } from 'app/main/apps/todo/todo-details/todo-details.component';\n\nconst routes: Routes = [\n    {\n        path     : 'all',\n        component: TodoComponent,\n        resolve  : {\n            todo: TodoService\n        }\n    },\n    {\n        path     : 'all/:todoId',\n        component: TodoComponent,\n        resolve  : {\n            todo: TodoService\n        }\n    },\n    {\n        path     : 'tag/:tagHandle',\n        component: TodoComponent,\n        resolve  : {\n            todo: TodoService\n        }\n    },\n    {\n        path     : 'tag/:tagHandle/:todoId',\n        component: TodoComponent,\n        resolve  : {\n            todo: TodoService\n        }\n    },\n    {\n        path     : 'filter/:filterHandle',\n        component: TodoComponent,\n        resolve  : {\n            todo: TodoService\n        }\n    },\n    {\n        path     : 'filter/:filterHandle/:todoId',\n        component: TodoComponent,\n        resolve  : {\n            todo: TodoService\n        }\n    },\n    {\n        path      : '**',\n        redirectTo: 'all'\n    }\n];\n\n@NgModule({\n    declarations: [\n        TodoComponent,\n        TodoMainSidebarComponent,\n        TodoListItemComponent,\n        TodoListComponent,\n        TodoDetailsComponent\n    ],\n    imports     : [\n        RouterModule.forChild(routes),\n\n        MatButtonModule,\n        MatCheckboxModule,\n        MatDatepickerModule,\n        MatFormFieldModule,\n        MatIconModule,\n        MatInputModule,\n        MatMenuModule,\n        MatRippleModule,\n        MatSelectModule,\n\n        NgxDnDModule,\n\n        FuseSharedModule,\n        FuseSidebarModule\n    ],\n    providers   : [\n        TodoService\n    ]\n})\nexport class TodoModule\n{\n}\n","import { Component, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\nimport { FuseUtils } from '@fuse/utils';\nimport { fuseAnimations } from '@fuse/animations';\n\nimport { Todo } from 'app/main/apps/todo/todo.model';\nimport { TodoService } from 'app/main/apps/todo/todo.service';\n\n@Component({\n    selector     : 'todo-details',\n    templateUrl  : './todo-details.component.html',\n    styleUrls    : ['./todo-details.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    animations   : fuseAnimations\n})\nexport class TodoDetailsComponent implements OnInit, OnDestroy\n{\n    todo: Todo;\n    tags: any[];\n    formType: string;\n    todoForm: FormGroup;\n\n    @ViewChild('titleInput')\n    titleInputField;\n\n    // Private\n    private _unsubscribeAll: Subject<any>;\n\n    /**\n     * Constructor\n     *\n     * @param {TodoService} _todoService\n     * @param {FormBuilder} _formBuilder\n     */\n    constructor(\n        private _todoService: TodoService,\n        private _formBuilder: FormBuilder\n    )\n    {\n        // Set the private defaults\n        this._unsubscribeAll = new Subject();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n    ngOnInit(): void\n    {\n        // Subscribe to update the current todo\n        this._todoService.onCurrentTodoChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(([todo, formType]) => {\n\n                if ( todo && formType === 'edit' )\n                {\n                    this.formType = 'edit';\n                    this.todo = todo;\n                    this.todoForm = this.createTodoForm();\n\n                    this.todoForm.valueChanges\n                        .pipe(\n                            takeUntil(this._unsubscribeAll),\n                            debounceTime(500),\n                            distinctUntilChanged()\n                        )\n                        .subscribe(data => {\n                            this._todoService.updateTodo(data);\n                        });\n                }\n            });\n\n        // Subscribe to update on tag change\n        this._todoService.onTagsChanged\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(labels => {\n                this.tags = labels;\n            });\n\n        // Subscribe to update on tag change\n        this._todoService.onNewTodoClicked\n            .pipe(takeUntil(this._unsubscribeAll))\n            .subscribe(() => {\n                this.todo = new Todo({});\n                this.todo.id = FuseUtils.generateGUID();\n                this.formType = 'new';\n                this.todoForm = this.createTodoForm();\n                this.focusTitleField();\n                this._todoService.onCurrentTodoChanged.next([this.todo, 'new']);\n            });\n    }\n\n    /**\n     * On destroy\n     */\n    ngOnDestroy(): void\n    {\n        // Unsubscribe from all subscriptions\n        this._unsubscribeAll.next();\n        this._unsubscribeAll.complete();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Focus title field\n     */\n    focusTitleField(): void\n    {\n        setTimeout(() => {\n            this.titleInputField.nativeElement.focus();\n        });\n    }\n\n    /**\n     * Create todo form\n     *\n     * @returns {FormGroup}\n     */\n    createTodoForm(): FormGroup\n    {\n        return this._formBuilder.group({\n            id       : [this.todo.id],\n            title    : [this.todo.title],\n            notes    : [this.todo.notes],\n            startDate: [this.todo.startDate],\n            dueDate  : [this.todo.dueDate],\n            completed: [this.todo.completed],\n            starred  : [this.todo.starred],\n            important: [this.todo.important],\n            deleted  : [this.todo.deleted],\n            tags     : [this.todo.tags]\n        });\n    }\n\n    /**\n     * Toggle star\n     *\n     * @param event\n     */\n    toggleStar(event): void\n    {\n        event.stopPropagation();\n        this.todo.toggleStar();\n        this._todoService.updateTodo(this.todo);\n    }\n\n    /**\n     * Toggle important\n     *\n     * @param event\n     */\n    toggleImportant(event): void\n    {\n        event.stopPropagation();\n        this.todo.toggleImportant();\n        this._todoService.updateTodo(this.todo);\n    }\n\n    /**\n     * Toggle Completed\n     *\n     * @param event\n     */\n    toggleCompleted(event): void\n    {\n        event.stopPropagation();\n        this.todo.toggleCompleted();\n        this._todoService.updateTodo(this.todo);\n    }\n\n    /**\n     * Toggle Deleted\n     *\n     * @param event\n     */\n    toggleDeleted(event): void\n    {\n        event.stopPropagation();\n        this.todo.toggleDeleted();\n        this._todoService.updateTodo(this.todo);\n    }\n\n    /**\n     * Toggle tag on todo\n     *\n     * @param tagId\n     */\n    toggleTagOnTodo(tagId): void\n    {\n        this._todoService.toggleTagOnTodo(tagId, this.todo);\n    }\n\n    /**\n     * Has tag?\n     *\n     * @param tagId\n     * @returns {any}\n     */\n    hasTag(tagId): any\n    {\n        return this._todoService.hasTag(tagId, this.todo);\n    }\n\n    /**\n     * Add todo\n     */\n    addTodo(): void\n    {\n        this._todoService.updateTodo(this.todoForm.getRawValue());\n    }\n}\n","<div *ngIf=\"!todo\" fxLayout=\"column\" fxLayoutAlign=\"center center\" fxFlex>\n    <mat-icon class=\"s-120 mb-12 select-todo-icon hint-text\"\n              [@animate]=\"{value:'*',params:{delay:'300ms',scale:'0.2'}}\">check_box\n    </mat-icon>\n    <span class=\"hint-text mat-h1 select-todo-text\" [@animate]=\"{value:'*',params:{delay:'400ms'}}\">\n        Select a todo\n    </span>\n</div>\n\n<div *ngIf=\"todo\">\n\n    <div class=\"todo-header\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n\n        <button mat-button class=\"toggle-complete-button\" (click)=\"toggleCompleted($event)\"\n                aria-label=\"Toggle completed\" fxFlex=\"0 1 auto\">\n            <mat-icon *ngIf=\"todo.completed\">check_box</mat-icon>\n            <mat-icon *ngIf=\"!todo.completed\">check_box_outline_blank</mat-icon>\n            <span class=\"ml-8\">Mark as Done</span>\n        </button>\n\n        <div class=\"actions\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\n            <button mat-icon-button (click)=\"toggleImportant($event)\" aria-label=\"Toggle important\">\n                <mat-icon class=\"red-fg\" *ngIf=\"todo.important\">error</mat-icon>\n                <mat-icon class=\"secondary-text\" *ngIf=\"!todo.important\">error_outline</mat-icon>\n            </button>\n\n            <button mat-icon-button (click)=\"toggleStar($event)\" aria-label=\"Toggle star\">\n                <mat-icon class=\"amber-fg\" *ngIf=\"todo.starred\">star</mat-icon>\n                <mat-icon class=\"secondary-text\" *ngIf=\"!todo.starred\">star_border</mat-icon>\n            </button>\n\n            <button mat-icon-button [matMenuTriggerFor]=\"labelMenu\" fxFlex=\"0 1 auto\">\n                <mat-icon class=\"secondary-text\">label</mat-icon>\n            </button>\n\n            <mat-menu #labelMenu=\"matMenu\">\n                <button mat-menu-item *ngFor=\"let tag of tags\"\n                        (click)=\"toggleTagOnTodo(tag.id)\">\n                    <mat-icon *ngIf=\"hasTag(tag.id)\">check</mat-icon>\n                    <mat-icon *ngIf=\"!hasTag(tag.id)\"></mat-icon>\n                    <span>{{tag.title}}</span>\n                </button>\n            </mat-menu>\n\n            <button mat-icon-button (click)=\"toggleDeleted($event)\" aria-label=\"Toggle delete\">\n                <mat-icon class=\"secondary-text\" *ngIf=\"todo.deleted\">delete_forever</mat-icon>\n                <mat-icon class=\"secondary-text\" *ngIf=\"!todo.deleted\">delete</mat-icon>\n            </button>\n\n        </div>\n    </div>\n\n    <div class=\"todo-content\">\n\n        <form [formGroup]=\"todoForm\" (submit)=\"addTodo()\">\n\n            <div class=\"tags mb-24\" fxFlexFill fxLayout=\"row wrap\">\n                <div class=\"tag\" fxLayout=\"row\" fxLayoutAlign=\"start center\" *ngFor=\"let tagId of todo.tags\">\n                    <div class=\"tag-color\" [ngStyle]=\"{'background-color': tags | getById:tagId:'color'}\"></div>\n                    <div class=\"tag-label\">{{tags | getById:tagId:'title'}}</div>\n                </div>\n            </div>\n\n            <mat-form-field appearance=\"outline\" class=\"title mt-8\" fxFill>\n                <mat-label>Title</mat-label>\n                <textarea matInput\n                          #titleInput\n                          name=\"title\"\n                          formControlName=\"title\"\n                          required>\n                </textarea>\n            </mat-form-field>\n\n            <div class=\"dates\" fxFlexFill fxLayout=\"column\" fxLayout.gt-xs=\"row\">\n\n                <mat-form-field appearance=\"outline\" class=\"mr-sm-12\" fxFlex>\n                    <mat-label>Start Date</mat-label>\n                    <input matInput [matDatepicker]=\"startDatePicker\">\n                    <mat-datepicker-toggle matSuffix [for]=\"startDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #startDatePicker></mat-datepicker>\n                </mat-form-field>\n\n                <mat-form-field appearance=\"outline\" class=\"ml-sm-12\" fxFlex>\n                    <mat-label>Due Date</mat-label>\n                    <input matInput [matDatepicker]=\"dueDatePicker\" placeholder=\"Due Date\">\n                    <mat-datepicker-toggle matSuffix [for]=\"dueDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #dueDatePicker></mat-datepicker>\n                </mat-form-field>\n\n            </div>\n\n            <mat-form-field appearance=\"outline\" fxFill>\n                <mat-label>Notes</mat-label>\n                <textarea matInput #notes\n                          name=\"notes\"\n                          formControlName=\"notes\"\n                          maxlength=\"500\">\n                </textarea>\n                <mat-hint align=\"end\">{{notes.value.length}} / 500</mat-hint>\n            </mat-form-field>\n\n            <button *ngIf=\"formType === 'new'\"\n                    mat-raised-button color=\"accent\"\n                    [disabled]=\"todoForm.invalid\">\n                SAVE\n            </button>\n        </form>\n\n    </div>\n</div>\n"]}