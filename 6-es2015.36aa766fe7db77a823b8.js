(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fJsw:function(e,t,n){"use strict";n.r(t),n.d(t,"FaqModule",function(){return F});var s=n("tyNb"),a=n("fXoL"),i=(n("8LU1"),n("XNiG"));n("quSY"),n("0EQZ");let r=(()=>{class e{}return e.\u0275mod=a.Pb({type:e}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)}}),e})();var c=n("+rOU"),o=n("ofXK"),h=n("FKr1"),p=(n("u47x"),n("/uUt"),n("JX91"),n("pLZG")),d=(n("IzEk"),n("FtGj"),n("R1ws"),n("EY2u"));n("VRyK"),n("R0Ic");let b=(()=>{class e{}return e.\u0275mod=a.Pb({type:e}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)},imports:[[o.c,h.h,r,c.g]]}),e})();var u=n("NFeN"),l=n("5HBU"),f=n("2Vo4"),g=n("tk/3");let x=(()=>{class e{constructor(e){this._httpClient=e,this.onFaqsChanged=new f.a({})}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getFaqs()]).then(()=>{e()},t)})}getFaqs(){return new Promise((e,t)=>{this._httpClient.get("api/faq").subscribe(t=>{this.faqs=t,this.onFaqsChanged.next(this.faqs),e(this.faqs)},t)})}}return e.\u0275fac=function(t){return new(t||e)(a.bc(g.c))},e.\u0275prov=a.Nb({token:e,factory:e.\u0275fac}),e})();var m=n("3Pt+"),w=n("vkgz"),k=n("Kj3r"),v=n("eIep"),q=n("JIr8"),_=n("nYR2"),y=n("AytR"),O=n("k1t7"),X=n("qXBG"),j=n("dNgK"),C=n("XiUz"),I=n("IyRd");function S(e,t){if(1&e){const e=a.Yb();a.Xb(0,"zxing-scanner",6),a.fc("scanSuccess",function(t){return a.Cc(e),a.jc().sendCheckPoint(t)}),a.Wb()}}function P(e,t){1&e&&(a.Xb(0,"div",7),a.Xb(1,"div",8),a.Xb(2,"div",9),a.Mc(3,"Sending checkpoint..."),a.Wb(),a.Xb(4,"div",10),a.Mc(5,"Please wait."),a.Wb(),a.Wb(),a.Wb())}const R=[{path:"",component:(()=>{class e{constructor(e,t,n,s,a){this._faqService=e,this._fuseProgressBarService=t,this._authService=n,this._snackbar=s,this._http=a,this._headers=(new g.f).set("Content-Type","application/json"),this.loading=!1,this._checkpoint$=new i.a,this._baseurl="",this.searchInput=new m.e(""),this.step=0,this._unsubscribeAll=new i.a,this._baseurl=y.a.apiUrl}ngOnInit(){this.userLoggedIn=this._authService.getObjectItem("userLoggedIn");const e=this.userLoggedIn.info.reg_code;this._checkpoint$.asObservable().pipe(Object(w.a)(()=>{this._fuseProgressBarService.show(),this.loading=!0}),Object(k.a)(1e3),Object(v.a)(t=>{const n={headers:this._headers};return this._http.post(`${this._baseurl}/cyclists/${e}/checkpoints`,{checkpoint:t,timestamp:new Date},n).pipe(Object(q.a)(e=>(this._snackbar.open(e.message,"",{duration:4e3,panelClass:["red-snackbar","login-snackbar"]}),d.a)),Object(_.a)(()=>{this.loading=!1,this._fuseProgressBarService.hide()}))}),Object(w.a)(e=>{!1===e.status&&this._snackbar.open("duplicate checkpoint"===e.message?"You've already checked in this checkpoint":e.message,"OK",{duration:4e3,panelClass:"red-snackbar"})}),Object(p.a)(e=>e.status)).subscribe(e=>{this._snackbar.open(e.message,"OK",{duration:4e3,panelClass:"green-snackbar"})})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}sendCheckPoint(e){console.log(e),this._checkpoint$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(x),a.Rb(O.a),a.Rb(X.a),a.Rb(j.a),a.Rb(g.c))},e.\u0275cmp=a.Lb({type:e,selectors:[["faq"]],decls:8,vars:2,consts:[["id","faq",1,"page-layout","simple","full-width"],["fxLayout","column","fxLayoutAlign","center center",1,"accent"],[1,"hero-text"],[1,"content","px-16","py-24","px-sm-24","py-sm-32"],["id","qrCheckpoint",3,"scanSuccess",4,"ngIf"],["class","fuse-card","style","max-width:100%",4,"ngIf"],["id","qrCheckpoint",3,"scanSuccess"],[1,"fuse-card",2,"max-width","100%"],[1,"p-64"],[1,"h2"],[1,"h4","secondary-text"]],template:function(e,t){1&e&&(a.Xb(0,"div",0),a.Xb(1,"div",1),a.Xb(2,"div",2),a.Xb(3,"h1"),a.Mc(4,"Scan Checkpoint"),a.Wb(),a.Wb(),a.Wb(),a.Xb(5,"div",3),a.Kc(6,S,1,0,"zxing-scanner",4),a.Kc(7,P,6,0,"div",5),a.Wb(),a.Wb()),2&e&&(a.Fb(6),a.qc("ngIf",!t.loading),a.Fb(1),a.qc("ngIf",t.loading))},directives:[C.c,C.b,o.m,I.a],styles:["faq .header{flex:1 0 auto;height:360px;max-height:360px;background:#1a237e;background:linear-gradient(90deg,#0e2a3b 0,#34306b)}@media screen and (max-width:599px){faq .header{height:240px;padding:16px}}faq .header .hero-text h1{color:#fff;font-size:48px;font-weight:400;letter-spacing:.01em;text-align:center;margin-top:0;margin-bottom:16px}@media screen and (max-width:599px){faq .header .hero-text h1{font-size:24px}}faq .header .search{width:100%;max-width:640px;height:56px;line-height:56px;padding:18px;border-radius:28px;overflow:hidden}faq .header .search input{height:56px;padding-left:16px;border:none;outline:none}faq .content{max-width:960px;width:100%;margin:0 auto}"],encapsulation:2}),e})(),resolve:{faq:x}}];let F=(()=>{class e{}return e.\u0275mod=a.Pb({type:e}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)},providers:[x],imports:[[s.k.forChild(R),b,u.b,l.a,I.b]]}),e})()}}]);